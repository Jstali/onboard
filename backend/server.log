ğŸš€ Server running on port 5001
ğŸ“§ Email configured for: alphanxzen@gmail.com
ğŸ” POST /api/auth/login - 2025-09-06T12:56:50.278Z
ğŸ” POST /api/attendance/mark - 2025-09-06T12:56:58.631Z
ğŸ” Attendance mark request body: {
  "date": "2025-09-06T00:00:00.000Z",
  "status": "present",
  "checkintime": null,
  "checkouttime": null,
  "notes": "",
  "hours": null
}
ğŸ” Attendance mark request headers: {
  host: 'localhost:5001',
  'user-agent': 'curl/8.7.1',
  accept: '*/*',
  'content-type': 'application/json',
  authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjQ4LCJlbWFpbCI6InN0YWxpbmpAbnh6ZW4uY29tIiwicm9sZSI6ImVtcGxveWVlIiwiaWF0IjoxNzU3MTYzNDEwLCJleHAiOjE3NTcyNDk4MTB9.12SCRykFMzNWs7Qhz-swK6zMNQzG3xFm7ybnb1_LiGM',
  'content-length': '142'
}
ğŸ” User from token: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T12:57:26.837Z
ğŸ” GET /api/attendance/settings - 2025-09-06T12:57:26.840Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” GET /api/attendance/settings - 2025-09-06T12:57:35.800Z
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T12:57:35.802Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” POST /api/attendance/mark - 2025-09-06T12:57:47.412Z
ğŸ” Attendance mark request body: {
  "date": "2025-09-07T00:00:00.000Z",
  "status": "Work From Home"
}
ğŸ” Attendance mark request headers: {
  host: 'localhost:5001',
  'user-agent': 'curl/8.7.1',
  accept: '*/*',
  'content-type': 'application/json',
  authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjQ4LCJlbWFpbCI6InN0YWxpbmpAbnh6ZW4uY29tIiwicm9sZSI6ImVtcGxveWVlIiwiaWF0IjoxNzU3MTYzNDEwLCJleHAiOjE3NTcyNDk4MTB9.12SCRykFMzNWs7Qhz-swK6zMNQzG3xFm7ybnb1_LiGM',
  'content-length': '62'
}
ğŸ” User from token: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” POST /api/attendance/mark - 2025-09-06T12:57:55.516Z
ğŸ” Attendance mark request body: {
  "date": "2025-09-08T00:00:00.000Z",
  "status": "present",
  "checkintime": "09:00",
  "checkouttime": "17:00",
  "notes": "Regular work day",
  "hours": 8
}
ğŸ” Attendance mark request headers: {
  host: 'localhost:5001',
  'user-agent': 'curl/8.7.1',
  accept: '*/*',
  'content-type': 'application/json',
  authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjQ4LCJlbWFpbCI6InN0YWxpbmpAbnh6ZW4uY29tIiwicm9sZSI6ImVtcGxveWVlIiwiaWF0IjoxNzU3MTYzNDEwLCJleHAiOjE3NTcyNDk4MTB9.12SCRykFMzNWs7Qhz-swK6zMNQzG3xFm7ybnb1_LiGM',
  'content-length': '161'
}
ğŸ” User from token: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” GET /api/auth/me - 2025-09-06T12:58:13.882Z
ğŸ” GET /api/auth/me - 2025-09-06T12:58:13.887Z
ğŸ” GET /api/attendance/settings - 2025-09-06T12:58:14.004Z
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T12:58:14.006Z
ğŸ” GET /api/attendance/settings - 2025-09-06T12:58:14.011Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T12:58:14.037Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” POST /api/attendance/mark - 2025-09-06T12:58:18.137Z
ğŸ” Attendance mark request body: {
  "date": "2025-09-03T00:00:00.000Z",
  "status": "Work From Home"
}
ğŸ” Attendance mark request headers: {
  host: 'localhost:5001',
  connection: 'keep-alive',
  'content-length': '47',
  'sec-ch-ua-platform': '"macOS"',
  authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjQ4LCJlbWFpbCI6InN0YWxpbmpAbnh6ZW4uY29tIiwicm9sZSI6ImVtcGxveWVlIiwiaWF0IjoxNzU3MTYxOTE5LCJleHAiOjE3NTcyNDgzMTl9.ErykFWRGdVo3pkO-P9cKYNkR0g76EdR2Nzg6dNh7s2g',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36',
  'sec-ch-ua': '"Chromium";v="140", "Not=A?Brand";v="24", "Google Chrome";v="140"',
  'content-type': 'application/json',
  'sec-ch-ua-mobile': '?0',
  accept: '*/*',
  origin: 'http://localhost:3001',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3001/',
  'accept-encoding': 'gzip, deflate, br, zstd',
  'accept-language': 'en-US,en;q=0.9'
}
ğŸ” User from token: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T12:58:18.147Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” POST /api/attendance/mark - 2025-09-06T12:58:23.053Z
ğŸ” Attendance mark request body: {
  "date": "2025-09-04T00:00:00.000Z",
  "status": "absent"
}
ğŸ” Attendance mark request headers: {
  host: 'localhost:5001',
  connection: 'keep-alive',
  'content-length': '39',
  'sec-ch-ua-platform': '"macOS"',
  authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjQ4LCJlbWFpbCI6InN0YWxpbmpAbnh6ZW4uY29tIiwicm9sZSI6ImVtcGxveWVlIiwiaWF0IjoxNzU3MTYxOTE5LCJleHAiOjE3NTcyNDgzMTl9.ErykFWRGdVo3pkO-P9cKYNkR0g76EdR2Nzg6dNh7s2g',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36',
  'sec-ch-ua': '"Chromium";v="140", "Not=A?Brand";v="24", "Google Chrome";v="140"',
  'content-type': 'application/json',
  'sec-ch-ua-mobile': '?0',
  accept: '*/*',
  origin: 'http://localhost:3001',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3001/',
  'accept-encoding': 'gzip, deflate, br, zstd',
  'accept-language': 'en-US,en;q=0.9'
}
ğŸ” User from token: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T12:58:23.064Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” POST /api/auth/login - 2025-09-06T12:58:50.659Z
ğŸ” GET /api/auth/me - 2025-09-06T12:58:50.746Z
ğŸ” GET /api/hr/employees - 2025-09-06T12:58:50.765Z
ğŸ” HR route middleware hit: GET /employees
ğŸ” GET /api/hr/master - 2025-09-06T12:58:50.767Z
ğŸ” HR route middleware hit: GET /master
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/employees - 2025-09-06T12:58:50.803Z
ğŸ” HR route middleware hit: GET /employees
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/employees - 2025-09-06T12:58:50.806Z
ğŸ” HR route middleware hit: GET /employees
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/employees - 2025-09-06T12:58:50.811Z
ğŸ” HR route middleware hit: GET /employees
ğŸ” GET /api/hr/master - 2025-09-06T12:58:50.812Z
ğŸ” HR route middleware hit: GET /master
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” POST /api/auth/login - 2025-09-06T12:59:26.620Z
ğŸ” POST /api/auth/login - 2025-09-06T13:00:03.446Z
ğŸ” POST /api/auth/login - 2025-09-06T13:01:15.444Z
ğŸ” GET /api/auth/me - 2025-09-06T13:01:15.566Z
ğŸ” GET /api/employee/onboarding-status - 2025-09-06T13:01:15.568Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Checking onboarding status for user ID: 48
ğŸ” GET /api/employee/onboarding-form - 2025-09-06T13:01:15.569Z
ğŸ” GET /api/employee/is-onboarded - 2025-09-06T13:01:15.570Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” GET /api/employee/is-onboarded - 2025-09-06T13:01:15.596Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” GET /api/employee/is-onboarded - 2025-09-06T13:01:15.597Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
ğŸ” Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
ğŸ” GET /api/employee/onboarding-form - 2025-09-06T13:01:15.618Z
ğŸ” GET /api/employee/onboarding-status - 2025-09-06T13:01:15.619Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Checking onboarding status for user ID: 48
ğŸ” GET /api/employee/onboarding-form - 2025-09-06T13:01:15.621Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
ğŸ” Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
ğŸ” GET /api/employee/onboarding-status - 2025-09-06T13:01:15.622Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Checking onboarding status for user ID: 48
ğŸ” Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
ğŸ” Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T13:01:15.657Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T13:01:15.680Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” GET /api/attendance/settings - 2025-09-06T13:01:19.195Z
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T13:01:19.196Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” GET /api/attendance/settings - 2025-09-06T13:01:19.201Z
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T13:01:19.211Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” POST /api/attendance/mark - 2025-09-06T13:01:24.027Z
ğŸ” Attendance mark request body: {
  "date": "2025-09-05T00:00:00.000Z",
  "status": "present"
}
ğŸ” Attendance mark request headers: {
  host: 'localhost:5001',
  connection: 'keep-alive',
  'content-length': '40',
  'sec-ch-ua-platform': '"macOS"',
  authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjQ4LCJlbWFpbCI6InN0YWxpbmpAbnh6ZW4uY29tIiwicm9sZSI6ImVtcGxveWVlIiwiaWF0IjoxNzU3MTYzNjc1LCJleHAiOjE3NTcyNTAwNzV9.eX3x1X-8mEwTXXsQdhJqGBXL15VI79NlB4MK4SPhNl4',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Qoder/0.1.20 Chrome/132.0.6834.210 Electron/34.5.1 Safari/537.36',
  'sec-ch-ua': '"Not A(Brand";v="8", "Chromium";v="132"',
  'content-type': 'application/json',
  'sec-ch-ua-mobile': '?0',
  accept: '*/*',
  origin: 'http://localhost:3001',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3001/',
  'accept-encoding': 'gzip, deflate, br, zstd',
  'accept-language': 'en-US'
}
ğŸ” User from token: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T13:01:24.050Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” GET /api/employee/onboarding-status - 2025-09-06T13:01:28.854Z
ğŸ” GET /api/employee/is-onboarded - 2025-09-06T13:01:28.855Z
ğŸ” GET /api/employee/onboarding-form - 2025-09-06T13:01:28.856Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Checking onboarding status for user ID: 48
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
ğŸ” Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
ğŸ” GET /api/employee/onboarding-status - 2025-09-06T13:01:28.859Z
ğŸ” GET /api/employee/is-onboarded - 2025-09-06T13:01:28.860Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Checking onboarding status for user ID: 48
ğŸ” GET /api/employee/onboarding-form - 2025-09-06T13:01:28.861Z
ğŸ” Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
ğŸ” Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T13:01:28.866Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T13:01:28.869Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” GET /api/leave/balance - 2025-09-06T13:01:29.913Z
ğŸ” GET /api/leave/types - 2025-09-06T13:01:29.914Z
ğŸ” GET /api/leave/my-leave-type-balances - 2025-09-06T13:01:29.914Z
ğŸ” GET /api/leave/system-info - 2025-09-06T13:01:29.917Z
ğŸ” GET /api/leave/my-requests - 2025-09-06T13:01:29.917Z
ğŸ” GET /api/leave/types - 2025-09-06T13:01:29.923Z
ğŸ” GET /api/leave/balance - 2025-09-06T13:01:29.924Z
ğŸ” Fetching leave requests for user ID: 48
ğŸ” GET /api/leave/system-info - 2025-09-06T13:01:29.926Z
ğŸ” GET /api/leave/my-leave-type-balances - 2025-09-06T13:01:29.927Z
ğŸ” Leave requests with manager data: []
ğŸ” GET /api/leave/my-requests - 2025-09-06T13:01:29.930Z
ğŸ” Fetching leave requests for user ID: 48
ğŸ” Leave requests with manager data: []
ğŸ” POST /api/leave/submit - 2025-09-06T13:01:46.050Z
ğŸ” Leave request received: {
  leaveType: 'Casual Leave',
  fromDate: '2025-09-09',
  toDate: null,
  halfDay: false,
  reason: 'hdhdhfj',
  totalDays: 1
}
ğŸ” Request body types: {
  leaveType: 'string',
  fromDate: 'string',
  toDate: 'object',
  reason: 'string',
  halfDay: 'boolean'
}
ğŸ” User: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Found managers for employee 48 : [
  {
    id: 42,
    manager_id: 'ae2d66',
    manager_name: 'Luffy D',
    email: 'strawhatluff124@gmail.com'
  }
]
ğŸ” Manager emails: [ { name: 'Luffy D', email: 'strawhatluff124@gmail.com' } ]
ğŸ” Manager count: 1
ğŸ” Manager 1: {
  name: 'Luffy D',
  email: 'strawhatluff124@gmail.com',
  id: 'ae2d66',
  user_id: 42
}
ğŸ” Retrieved managers: [
  {
    id: 42,
    manager_id: 'ae2d66',
    manager_name: 'Luffy D',
    email: 'strawhatluff124@gmail.com'
  }
]
ğŸ” Managers found: [
  {
    id: 42,
    manager_id: 'ae2d66',
    manager_name: 'Luffy D',
    email: 'strawhatluff124@gmail.com'
  }
]
ğŸ“§ Sending email to PRIMARY manager only: strawhatluff124@gmail.com
ğŸ“§ sendLeaveRequestToManager called with: {
  managerEmail: 'strawhatluff124@gmail.com',
  leaveRequest: { id: 17, employeeName: 'Stalin J' }
}
ğŸ“§ Note: Email sent only to primary manager. Optional managers (manager2, manager3) will not receive emails.
ğŸ” GET /api/leave/balance - 2025-09-06T13:01:46.094Z
ğŸ” GET /api/leave/my-requests - 2025-09-06T13:01:46.094Z
ğŸ” Fetching leave requests for user ID: 48
ğŸ” Leave requests with manager data: [
  {
    id: 17,
    from_date: 2025-09-08T18:30:00.000Z,
    manager_name: 'Luffy D',
    current_manager_name: undefined
  }
]
âœ… Leave request email sent to manager: strawhatluff124@gmail.com
ğŸ“§ Email sent to primary manager: true
ğŸ” GET /api/leave/approve/17 - 2025-09-06T13:02:03.304Z
âœ… Manager approval notification sent to HR: hr@nxzen.com
ğŸ” GET /api/auth/me - 2025-09-06T13:02:14.911Z
ğŸ” GET /api/auth/me - 2025-09-06T13:02:14.914Z
ğŸ” GET /api/employee/onboarding-status - 2025-09-06T13:02:14.920Z
ğŸ” GET /api/employee/is-onboarded - 2025-09-06T13:02:14.921Z
ğŸ” GET /api/employee/onboarding-form - 2025-09-06T13:02:14.921Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Checking onboarding status for user ID: 48
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” GET /api/employee/is-onboarded - 2025-09-06T13:02:14.926Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” GET /api/employee/is-onboarded - 2025-09-06T13:02:14.927Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
ğŸ” Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
ğŸ” GET /api/employee/onboarding-status - 2025-09-06T13:02:14.928Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Checking onboarding status for user ID: 48
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T13:02:14.939Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
ğŸ” Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
ğŸ” GET /api/employee/onboarding-status - 2025-09-06T13:02:14.955Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Checking onboarding status for user ID: 48
ğŸ” Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
ğŸ” Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T13:02:14.961Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” GET /api/employee/onboarding-form - 2025-09-06T13:02:14.963Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” GET /api/employee/onboarding-form - 2025-09-06T13:02:14.963Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T13:02:14.974Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” GET /api/leave/balance - 2025-09-06T13:02:17.118Z
ğŸ” GET /api/leave/types - 2025-09-06T13:02:17.119Z
ğŸ” GET /api/leave/system-info - 2025-09-06T13:02:17.119Z
ğŸ” GET /api/leave/my-leave-type-balances - 2025-09-06T13:02:17.120Z
ğŸ” GET /api/leave/my-requests - 2025-09-06T13:02:17.120Z
ğŸ” GET /api/leave/balance - 2025-09-06T13:02:17.122Z
ğŸ” Fetching leave requests for user ID: 48
ğŸ” Leave requests with manager data: [
  {
    id: 17,
    from_date: 2025-09-08T18:30:00.000Z,
    manager_name: 'Luffy D',
    current_manager_name: undefined
  }
]
ğŸ” GET /api/leave/my-requests - 2025-09-06T13:02:17.131Z
ğŸ” Fetching leave requests for user ID: 48
ğŸ” Leave requests with manager data: [
  {
    id: 17,
    from_date: 2025-09-08T18:30:00.000Z,
    manager_name: 'Luffy D',
    current_manager_name: undefined
  }
]
ğŸ” GET /api/leave/my-leave-type-balances - 2025-09-06T13:02:17.183Z
ğŸ” GET /api/leave/types - 2025-09-06T13:02:17.184Z
ğŸ” GET /api/leave/system-info - 2025-09-06T13:02:17.184Z
ğŸ” GET /api/employee/onboarding-status - 2025-09-06T13:02:24.204Z
ğŸ” GET /api/employee/is-onboarded - 2025-09-06T13:02:24.208Z
ğŸ” GET /api/employee/onboarding-form - 2025-09-06T13:02:24.209Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Checking onboarding status for user ID: 48
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” GET /api/employee/is-onboarded - 2025-09-06T13:02:24.218Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” GET /api/employee/onboarding-form - 2025-09-06T13:02:24.227Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
ğŸ” Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
ğŸ” GET /api/employee/onboarding-status - 2025-09-06T13:02:24.233Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Checking onboarding status for user ID: 48
ğŸ” Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
ğŸ” Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T13:02:24.242Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T13:02:24.253Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” GET /api/expenses/categories - 2025-09-06T13:02:25.597Z
ğŸ” GET /api/expenses/categories - 2025-09-06T13:02:25.599Z
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:02:27.530Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 0
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:02:27.544Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 0
ğŸ” GET /api/expenses/categories - 2025-09-06T13:02:28.533Z
ğŸ” GET /api/expenses/categories - 2025-09-06T13:02:28.534Z
ğŸ” GET /api/expenses/categories - 2025-09-06T13:03:08.221Z
ğŸ” GET /api/expenses/categories - 2025-09-06T13:03:08.225Z
ğŸ” GET /api/expenses/categories - 2025-09-06T13:07:05.537Z
ğŸ” GET /api/employee/onboarding-status - 2025-09-06T13:07:05.539Z
ğŸ” GET /api/employee/is-onboarded - 2025-09-06T13:07:05.546Z
ğŸ” GET /api/employee/onboarding-form - 2025-09-06T13:07:05.548Z
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T13:07:05.549Z
ğŸ” GET /api/expenses/categories - 2025-09-06T13:07:05.549Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Checking onboarding status for user ID: 48
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
ğŸ” Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T13:07:05.587Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:07:09.607Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 0
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:07:09.632Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 0
ğŸ” GET /api/expenses/categories - 2025-09-06T13:07:13.844Z
ğŸ” GET /api/expenses/categories - 2025-09-06T13:07:13.845Z
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:07:14.830Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 0
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:07:14.837Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 0
ğŸ” GET /api/expenses/categories - 2025-09-06T13:07:16.413Z
ğŸ” GET /api/expenses/categories - 2025-09-06T13:07:16.414Z
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:07:17.124Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 0
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:07:17.128Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 0
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:07:51.766Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 0
ğŸ” GET /api/expenses/categories - 2025-09-06T13:08:40.019Z
ğŸ” GET /api/expenses/categories - 2025-09-06T13:08:40.021Z
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:08:40.917Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 0
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:08:40.946Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 0
ğŸ” GET /api/expenses/categories - 2025-09-06T13:08:46.616Z
ğŸ” GET /api/expenses/categories - 2025-09-06T13:08:46.618Z
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:08:47.986Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 0
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:08:47.990Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 0
ğŸ” GET /api/expenses/categories - 2025-09-06T13:08:49.715Z
ğŸ” GET /api/expenses/categories - 2025-09-06T13:08:49.716Z
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:08:50.428Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 0
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:08:50.434Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 0
ğŸ” GET /api/expenses/categories - 2025-09-06T13:08:51.979Z
ğŸ” GET /api/expenses/categories - 2025-09-06T13:08:51.980Z
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:08:52.928Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 0
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:08:52.933Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 0
ğŸ” GET /api/expenses/categories - 2025-09-06T13:08:58.770Z
ğŸ” GET /api/expenses/categories - 2025-09-06T13:08:58.771Z
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:08:59.726Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 0
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:08:59.732Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 0
ğŸ” GET /api/employee/onboarding-status - 2025-09-06T13:09:12.340Z
ğŸ” GET /api/employee/is-onboarded - 2025-09-06T13:09:12.341Z
ğŸ” GET /api/employee/onboarding-form - 2025-09-06T13:09:12.342Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Checking onboarding status for user ID: 48
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
ğŸ” Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
ğŸ” GET /api/employee/onboarding-status - 2025-09-06T13:09:12.361Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Checking onboarding status for user ID: 48
ğŸ” Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
ğŸ” Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
ğŸ” GET /api/employee/onboarding-form - 2025-09-06T13:09:12.364Z
ğŸ” GET /api/employee/is-onboarded - 2025-09-06T13:09:12.364Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T13:09:12.370Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T13:09:12.384Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” POST /api/auth/login - 2025-09-06T13:09:35.343Z
ğŸ” GET /api/auth/me - 2025-09-06T13:09:35.440Z
ğŸ” GET /api/hr/employees - 2025-09-06T13:09:35.444Z
ğŸ” HR route middleware hit: GET /employees
ğŸ” GET /api/hr/master - 2025-09-06T13:09:35.445Z
ğŸ” HR route middleware hit: GET /master
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/employees - 2025-09-06T13:09:35.449Z
ğŸ” HR route middleware hit: GET /employees
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/master - 2025-09-06T13:09:35.451Z
ğŸ” HR route middleware hit: GET /master
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/employees - 2025-09-06T13:09:35.451Z
ğŸ” HR route middleware hit: GET /employees
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/employees - 2025-09-06T13:09:35.453Z
ğŸ” HR route middleware hit: GET /employees
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” POST /api/auth/login - 2025-09-06T13:10:17.655Z
ğŸ” GET /api/auth/me - 2025-09-06T13:10:17.777Z
ğŸ” GET /api/employee/onboarding-status - 2025-09-06T13:10:17.777Z
ğŸ” GET /api/employee/is-onboarded - 2025-09-06T13:10:17.778Z
ğŸ” GET /api/employee/onboarding-form - 2025-09-06T13:10:17.778Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Checking onboarding status for user ID: 48
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” GET /api/employee/onboarding-form - 2025-09-06T13:10:17.799Z
ğŸ” GET /api/employee/is-onboarded - 2025-09-06T13:10:17.799Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
ğŸ” Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” GET /api/employee/onboarding-status - 2025-09-06T13:10:17.800Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Checking onboarding status for user ID: 48
ğŸ” GET /api/employee/onboarding-form - 2025-09-06T13:10:17.800Z
ğŸ” Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
ğŸ” Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” GET /api/employee/onboarding-status - 2025-09-06T13:10:17.801Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Checking onboarding status for user ID: 48
ğŸ” GET /api/employee/is-onboarded - 2025-09-06T13:10:17.802Z
ğŸ” Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
ğŸ” Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T13:10:17.804Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T13:10:17.811Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” GET /api/expenses/categories - 2025-09-06T13:10:21.085Z
ğŸ” GET /api/expenses/categories - 2025-09-06T13:10:21.086Z
ğŸ” POST /api/expenses/submit - 2025-09-06T13:11:36.059Z
ğŸ” Expense request received: [Object: null prototype] {
  expenseCategory: 'Travel',
  expenseType: 'Taxi',
  amount: '500',
  currency: 'INR',
  description: 'hvbdsbh',
  expenseDate: '2025-09-01',
  taxIncluded: 'false'
}
ğŸ” Files uploaded: [
  {
    fieldname: 'attachments',
    originalname: 'Screenshot 2025-09-06 at 4.05.00Ã¢\x80Â¯PM.png',
    encoding: '7bit',
    mimetype: 'image/png',
    destination: '/Users/stalin_j/Downloads/test2/onboard/backend/uploads/expenses',
    filename: 'attachments-1757164296154-681681736.png',
    path: '/Users/stalin_j/Downloads/test2/onboard/backend/uploads/expenses/attachments-1757164296154-681681736.png',
    size: 510771
  }
]
ğŸ” Found managers for employee 48 : [
  {
    id: 42,
    manager_id: 'ae2d66',
    manager_name: 'Luffy D',
    email: 'strawhatluff124@gmail.com'
  }
]
ğŸ” Retrieved managers: [
  {
    id: 42,
    manager_id: 'ae2d66',
    manager_name: 'Luffy D',
    email: 'strawhatluff124@gmail.com'
  }
]
ğŸ” Managers found: [
  {
    id: 42,
    manager_id: 'ae2d66',
    manager_name: 'Luffy D',
    email: 'strawhatluff124@gmail.com'
  }
]
ğŸ“§ Sending email to PRIMARY manager only: strawhatluff124@gmail.com
ğŸ“§ sendExpenseRequestToManager called with: {
  managerEmail: 'strawhatluff124@gmail.com',
  expenseRequest: { id: 15, employeeName: 'Stalin J' }
}
ğŸ“§ Note: Email sent only to primary manager. Optional managers (manager2, manager3) will not receive emails.
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:11:40.265Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 1
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:11:40.273Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 1
âœ… Expense request email sent to manager: strawhatluff124@gmail.com
ğŸ“§ Email sent to primary manager: true
ğŸ” GET /api/expenses/approve/15 - 2025-09-06T13:11:52.964Z
âœ… Manager approval notification sent to HR: hr@nxzen.com
ğŸ” GET /api/auth/me - 2025-09-06T13:12:19.195Z
ğŸ” GET /api/auth/me - 2025-09-06T13:12:19.216Z
ğŸ” GET /api/attendance/settings - 2025-09-06T13:12:19.362Z
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T13:12:19.365Z
ğŸ” GET /api/attendance/settings - 2025-09-06T13:12:19.409Z
ğŸ” GET /api/auth/me - 2025-09-06T13:12:19.469Z
ğŸ” GET /api/auth/me - 2025-09-06T13:12:19.471Z
ğŸ” GET /api/employee/onboarding-status - 2025-09-06T13:12:19.482Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Checking onboarding status for user ID: 48
ğŸ” GET /api/employee/is-onboarded - 2025-09-06T13:12:19.486Z
ğŸ” GET /api/employee/onboarding-form - 2025-09-06T13:12:19.486Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
ğŸ” Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
ğŸ” GET /api/employee/onboarding-status - 2025-09-06T13:12:19.502Z
ğŸ” GET /api/employee/onboarding-form - 2025-09-06T13:12:19.502Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Checking onboarding status for user ID: 48
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” GET /api/employee/onboarding-form - 2025-09-06T13:12:19.504Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
ğŸ” Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T13:12:19.537Z
ğŸ” GET /api/employee/onboarding-status - 2025-09-06T13:12:19.538Z
ğŸ” GET /api/employee/is-onboarded - 2025-09-06T13:12:19.538Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Checking onboarding status for user ID: 48
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
ğŸ” Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
ğŸ” GET /api/employee/is-onboarded - 2025-09-06T13:12:19.542Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T13:12:19.546Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T13:12:19.551Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T13:12:19.553Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” GET /api/expenses/categories - 2025-09-06T13:12:21.089Z
ğŸ” GET /api/expenses/categories - 2025-09-06T13:12:21.091Z
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:12:22.227Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 1
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:12:22.238Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 1
ğŸ” GET /api/expenses/categories - 2025-09-06T13:12:42.421Z
ğŸ” GET /api/expenses/categories - 2025-09-06T13:12:42.422Z
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:12:43.360Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 1
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:12:43.365Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 1
ğŸ” GET /api/expenses/categories - 2025-09-06T13:12:47.199Z
ğŸ” GET /api/expenses/categories - 2025-09-06T13:12:47.201Z
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:12:48.291Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 1
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:12:48.295Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 1
ğŸ” GET /api/expenses/categories - 2025-09-06T13:12:50.153Z
ğŸ” GET /api/expenses/categories - 2025-09-06T13:12:50.154Z
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:12:52.172Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 1
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:12:52.180Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 1
ğŸ” GET /api/expenses/categories - 2025-09-06T13:12:58.299Z
ğŸ” GET /api/expenses/categories - 2025-09-06T13:12:58.301Z
ğŸ” GET /api/auth/me - 2025-09-06T13:13:01.339Z
ğŸ” GET /api/auth/me - 2025-09-06T13:13:01.342Z
ğŸ” GET /api/employee/onboarding-status - 2025-09-06T13:13:01.349Z
ğŸ” GET /api/employee/is-onboarded - 2025-09-06T13:13:01.349Z
ğŸ” GET /api/employee/onboarding-form - 2025-09-06T13:13:01.350Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Checking onboarding status for user ID: 48
ğŸ” Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
ğŸ” Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
ğŸ” GET /api/employee/onboarding-status - 2025-09-06T13:13:01.355Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Checking onboarding status for user ID: 48
ğŸ” Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
ğŸ” Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
ğŸ” GET /api/employee/onboarding-status - 2025-09-06T13:13:01.357Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Checking onboarding status for user ID: 48
ğŸ” Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
ğŸ” Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T13:13:01.362Z
ğŸ” GET /api/employee/onboarding-form - 2025-09-06T13:13:01.362Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” GET /api/employee/is-onboarded - 2025-09-06T13:13:01.363Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” GET /api/employee/onboarding-form - 2025-09-06T13:13:01.364Z
ğŸ” GET /api/employee/is-onboarded - 2025-09-06T13:13:01.365Z
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” Role check - User ID: 48, Role: employee, Required roles: employee
âœ… Access granted - User role 'employee' has required permissions
ğŸ” GET /api/attendance/my-attendance - 2025-09-06T13:13:01.372Z
ğŸ” Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
ğŸ” Attendance route - userId: 48
ğŸ” GET /api/expenses/categories - 2025-09-06T13:13:04.697Z
ğŸ” GET /api/expenses/categories - 2025-09-06T13:13:04.698Z
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:13:05.853Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 1
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:13:05.859Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 1
ğŸ” GET /api/expenses/categories - 2025-09-06T13:13:23.099Z
ğŸ” GET /api/expenses/categories - 2025-09-06T13:13:23.100Z
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:13:26.232Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 1
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:13:26.242Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 1
ğŸ” GET /api/expenses/categories - 2025-09-06T13:13:26.940Z
ğŸ” GET /api/expenses/categories - 2025-09-06T13:13:26.941Z
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:13:27.556Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 1
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:13:27.559Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 1
ğŸ” GET /api/expenses/categories - 2025-09-06T13:13:28.241Z
ğŸ” GET /api/expenses/categories - 2025-09-06T13:13:28.244Z
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:13:28.776Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 1
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:13:28.780Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 1
ğŸ” GET /api/expenses/categories - 2025-09-06T13:13:29.414Z
ğŸ” GET /api/expenses/categories - 2025-09-06T13:13:29.416Z
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:13:30.629Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 1
ğŸ” GET /api/expenses/my-requests - 2025-09-06T13:13:30.633Z
ğŸ” Fetching expense requests for user ID: 48
ğŸ” Expense requests with manager data: 1
ğŸ” POST /api/auth/login - 2025-09-06T13:13:52.928Z
ğŸ” GET /api/auth/me - 2025-09-06T13:13:53.047Z
ğŸ” GET /api/hr/employees - 2025-09-06T13:13:53.053Z
ğŸ” HR route middleware hit: GET /employees
ğŸ” GET /api/hr/master - 2025-09-06T13:13:53.053Z
ğŸ” HR route middleware hit: GET /master
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/employees - 2025-09-06T13:13:53.063Z
ğŸ” HR route middleware hit: GET /employees
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/employees - 2025-09-06T13:13:53.065Z
ğŸ” HR route middleware hit: GET /employees
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/employees - 2025-09-06T13:13:53.066Z
ğŸ” HR route middleware hit: GET /employees
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/master - 2025-09-06T13:13:53.074Z
ğŸ” HR route middleware hit: GET /master
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/leave/hr/pending - 2025-09-06T13:13:57.428Z
ğŸ” GET /api/leave/all - 2025-09-06T13:13:57.431Z
ğŸ” GET /api/leave/types - 2025-09-06T13:13:57.431Z
ğŸ” GET /api/leave/hr/pending - 2025-09-06T13:13:57.448Z
ğŸ” GET /api/leave/all - 2025-09-06T13:13:57.449Z
ğŸ” GET /api/leave/types - 2025-09-06T13:13:57.450Z
ğŸ” PUT /api/leave/hr/17/approve - 2025-09-06T13:14:00.463Z
ğŸ” Updating leave balance: {
  employeeId: 48,
  year: 2025,
  totalDays: 1,
  leaveType: 'Casual Leave',
  originalValue: '1.0'
}
ğŸ” Paid Leave - Deducting from annual allocation
ğŸ” Updating leave type balance for: Casual Leave
âš ï¸ No leave type balance found for: casual - skipping type-specific update
âœ… Leave balance updated successfully
âœ… Created 1 attendance records
âœ… Transaction committed successfully
ğŸ” GET /api/leave/hr/pending - 2025-09-06T13:14:00.498Z
ğŸ” GET /api/leave/all - 2025-09-06T13:14:00.499Z
âœ… Leave approval notification sent to employee: stalinj@nxzen.com
ğŸ” GET /api/expenses/hr/pending - 2025-09-06T13:14:03.755Z
ğŸ” GET /api/expenses/hr/pending - 2025-09-06T13:14:03.759Z
ğŸ” PUT /api/expenses/hr/15/approve - 2025-09-06T13:14:06.129Z
ğŸ” GET /api/expenses/all - 2025-09-06T13:14:08.845Z
âœ… Expense approval notification sent to employee: stalinj@nxzen.com
ğŸ” POST /api/auth/login - 2025-09-06T13:14:29.939Z
ğŸ” GET /api/manager/dashboard - 2025-09-06T13:14:30.036Z
ğŸ” GET /api/auth/me - 2025-09-06T13:14:30.037Z
ğŸ” Role check - User ID: 42, Role: manager, Required roles: manager
âœ… Access granted - User role 'manager' has required permissions
ğŸ” GET /api/manager/dashboard - 2025-09-06T13:14:30.050Z
ğŸ” Role check - User ID: 42, Role: manager, Required roles: manager
âœ… Access granted - User role 'manager' has required permissions
ğŸ” GET /api/auth/me - 2025-09-06T13:14:38.170Z
ğŸ” GET /api/auth/me - 2025-09-06T13:14:38.171Z
ğŸ” GET /api/manager/dashboard - 2025-09-06T13:14:38.179Z
ğŸ” Role check - User ID: 42, Role: manager, Required roles: manager
âœ… Access granted - User role 'manager' has required permissions
ğŸ” GET /api/manager/dashboard - 2025-09-06T13:14:38.181Z
ğŸ” Role check - User ID: 42, Role: manager, Required roles: manager
âœ… Access granted - User role 'manager' has required permissions
ğŸ” POST /api/auth/login - 2025-09-06T13:17:55.102Z
ğŸ” POST /api/auth/login - 2025-09-06T13:18:54.765Z
ğŸ” GET /api/manager/dashboard - 2025-09-06T13:19:02.046Z
ğŸ” Role check - User ID: 42, Role: manager, Required roles: manager
âœ… Access granted - User role 'manager' has required permissions
ğŸ” POST /api/auth/login - 2025-09-06T13:24:07.577Z
ğŸ” GET /api/auth/me - 2025-09-06T13:24:07.701Z
ğŸ” GET /api/hr/employees - 2025-09-06T13:24:07.705Z
ğŸ” HR route middleware hit: GET /employees
ğŸ” GET /api/hr/master - 2025-09-06T13:24:07.706Z
ğŸ” HR route middleware hit: GET /master
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/master - 2025-09-06T13:24:07.734Z
ğŸ” HR route middleware hit: GET /master
ğŸ” GET /api/hr/employees - 2025-09-06T13:24:07.735Z
ğŸ” HR route middleware hit: GET /employees
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/employees - 2025-09-06T13:24:07.736Z
ğŸ” HR route middleware hit: GET /employees
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/employees - 2025-09-06T13:24:07.738Z
ğŸ” HR route middleware hit: GET /employees
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/employee-forms - 2025-09-06T13:24:15.586Z
ğŸ” HR route middleware hit: GET /employee-forms
ğŸ” GET /api/hr/master-managers - 2025-09-06T13:24:15.587Z
ğŸ” HR route middleware hit: GET /master-managers
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/master-managers - 2025-09-06T13:24:15.592Z
ğŸ” HR route middleware hit: GET /master-managers
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/employee-forms - 2025-09-06T13:24:15.595Z
ğŸ” HR route middleware hit: GET /employee-forms
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/document-collection - 2025-09-06T13:24:24.132Z
ğŸ” Document collection request: GET /api/hr/document-collection
ğŸ” Request body: {}
ğŸ” Request params: {}
ğŸ” HR route middleware hit: GET /document-collection
ğŸ” GET /api/hr/master - 2025-09-06T13:24:24.134Z
ğŸ” HR route middleware hit: GET /master
ğŸ” GET /api/documents/requirements - 2025-09-06T13:24:24.134Z
ğŸ” GET /api/hr/approved-employee-forms - 2025-09-06T13:24:24.137Z
ğŸ” HR route middleware hit: GET /approved-employee-forms
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/documents/requirements - 2025-09-06T13:24:24.141Z
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/master - 2025-09-06T13:24:24.143Z
ğŸ” HR route middleware hit: GET /master
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/approved-employee-forms - 2025-09-06T13:24:24.151Z
ğŸ” HR route middleware hit: GET /approved-employee-forms
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/document-collection - 2025-09-06T13:24:24.155Z
ğŸ” Document collection request: GET /api/hr/document-collection
ğŸ” Request body: {}
ğŸ” Request params: {}
ğŸ” HR route middleware hit: GET /document-collection
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/onboarded - 2025-09-06T13:24:33.698Z
ğŸ” HR route middleware hit: GET /onboarded
ğŸ” GET /api/hr/master-managers - 2025-09-06T13:24:33.700Z
ğŸ” HR route middleware hit: GET /master-managers
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/master-managers - 2025-09-06T13:24:33.703Z
ğŸ” HR route middleware hit: GET /master-managers
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/onboarded - 2025-09-06T13:24:33.707Z
ğŸ” HR route middleware hit: GET /onboarded
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr-config/managers - 2025-09-06T13:24:40.407Z
ğŸ” GET /api/hr-config/managers - 2025-09-06T13:24:40.413Z
ğŸ” GET /api/attendance/stats - 2025-09-06T13:24:45.487Z
ğŸ” GET /api/attendance/hr/details - 2025-09-06T13:24:45.488Z
ğŸ” GET /api/attendance/stats - 2025-09-06T13:24:45.499Z
ğŸ” GET /api/attendance/hr/details - 2025-09-06T13:24:45.501Z
ğŸ” GET /api/leave/types - 2025-09-06T13:24:51.231Z
ğŸ” GET /api/leave/hr/pending - 2025-09-06T13:24:51.231Z
ğŸ” GET /api/leave/all - 2025-09-06T13:24:51.232Z
ğŸ” GET /api/leave/hr/pending - 2025-09-06T13:24:51.236Z
ğŸ” GET /api/leave/all - 2025-09-06T13:24:51.242Z
ğŸ” GET /api/leave/types - 2025-09-06T13:24:51.252Z
ğŸ” GET /api/attendance/stats - 2025-09-06T13:25:06.788Z
ğŸ” GET /api/attendance/hr/details - 2025-09-06T13:25:06.789Z
ğŸ” GET /api/attendance/stats - 2025-09-06T13:25:06.792Z
ğŸ” GET /api/attendance/hr/details - 2025-09-06T13:25:06.794Z
ğŸ” GET /api/hr-config/managers - 2025-09-06T13:25:07.448Z
ğŸ” GET /api/hr-config/managers - 2025-09-06T13:25:07.450Z
ğŸ” GET /api/hr/onboarded - 2025-09-06T13:25:08.596Z
ğŸ” HR route middleware hit: GET /onboarded
ğŸ” GET /api/hr/master-managers - 2025-09-06T13:25:08.597Z
ğŸ” HR route middleware hit: GET /master-managers
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/master-managers - 2025-09-06T13:25:08.599Z
ğŸ” HR route middleware hit: GET /master-managers
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/onboarded - 2025-09-06T13:25:08.601Z
ğŸ” HR route middleware hit: GET /onboarded
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/master-managers - 2025-09-06T13:25:09.932Z
ğŸ” HR route middleware hit: GET /master-managers
ğŸ” GET /api/hr/employee-forms - 2025-09-06T13:25:09.934Z
ğŸ” HR route middleware hit: GET /employee-forms
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/master-managers - 2025-09-06T13:25:09.936Z
ğŸ” HR route middleware hit: GET /master-managers
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/employee-forms - 2025-09-06T13:25:09.938Z
ğŸ” HR route middleware hit: GET /employee-forms
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/document-collection - 2025-09-06T13:25:10.967Z
ğŸ” Document collection request: GET /api/hr/document-collection
ğŸ” Request body: {}
ğŸ” Request params: {}
ğŸ” HR route middleware hit: GET /document-collection
ğŸ” GET /api/hr/master - 2025-09-06T13:25:10.968Z
ğŸ” HR route middleware hit: GET /master
ğŸ” GET /api/documents/requirements - 2025-09-06T13:25:10.968Z
ğŸ” GET /api/hr/approved-employee-forms - 2025-09-06T13:25:10.968Z
ğŸ” HR route middleware hit: GET /approved-employee-forms
ğŸ” GET /api/documents/requirements - 2025-09-06T13:25:10.969Z
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/master - 2025-09-06T13:25:10.971Z
ğŸ” HR route middleware hit: GET /master
ğŸ” GET /api/hr/approved-employee-forms - 2025-09-06T13:25:10.972Z
ğŸ” HR route middleware hit: GET /approved-employee-forms
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/document-collection - 2025-09-06T13:25:10.973Z
ğŸ” Document collection request: GET /api/hr/document-collection
ğŸ” Request body: {}
ğŸ” Request params: {}
ğŸ” HR route middleware hit: GET /document-collection
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” POST /api/auth/login - 2025-09-06T13:25:44.757Z
ğŸ” GET /api/auth/me - 2025-09-06T13:25:44.897Z
ğŸ” GET /api/manager/dashboard - 2025-09-06T13:25:44.898Z
ğŸ” Role check - User ID: 42, Role: manager, Required roles: manager
âœ… Access granted - User role 'manager' has required permissions
ğŸ” GET /api/manager/dashboard - 2025-09-06T13:25:44.908Z
ğŸ” Role check - User ID: 42, Role: manager, Required roles: manager
âœ… Access granted - User role 'manager' has required permissions
ğŸ” POST /api/auth/login - 2025-09-06T13:26:32.498Z
ğŸ” GET /api/manager/dashboard - 2025-09-06T13:29:34.293Z
ğŸ” Role check - User ID: 46, Role: manager, Required roles: manager
âœ… Access granted - User role 'manager' has required permissions
ğŸ” GET /api/manager/dashboard - 2025-09-06T13:29:44.176Z
ğŸ” Role check - User ID: 42, Role: manager, Required roles: manager
âœ… Access granted - User role 'manager' has required permissions
ğŸ” GET /api/auth/me - 2025-09-06T13:30:29.080Z
ğŸ” GET /api/auth/me - 2025-09-06T13:30:29.095Z
ğŸ” GET /api/manager/dashboard - 2025-09-06T13:30:29.101Z
ğŸ” Role check - User ID: 42, Role: manager, Required roles: manager
âœ… Access granted - User role 'manager' has required permissions
ğŸ” GET /api/manager/dashboard - 2025-09-06T13:30:29.111Z
ğŸ” Role check - User ID: 42, Role: manager, Required roles: manager
âœ… Access granted - User role 'manager' has required permissions
ğŸ” GET /api/auth/me - 2025-09-06T13:30:30.010Z
ğŸ” GET /api/auth/me - 2025-09-06T13:30:30.012Z
ğŸ” GET /api/manager/dashboard - 2025-09-06T13:30:30.016Z
ğŸ” Role check - User ID: 42, Role: manager, Required roles: manager
âœ… Access granted - User role 'manager' has required permissions
ğŸ” GET /api/manager/dashboard - 2025-09-06T13:30:30.019Z
ğŸ” Role check - User ID: 42, Role: manager, Required roles: manager
âœ… Access granted - User role 'manager' has required permissions
ğŸ” GET /api/auth/me - 2025-09-06T13:30:30.434Z
ğŸ” GET /api/auth/me - 2025-09-06T13:30:30.435Z
ğŸ” GET /api/manager/dashboard - 2025-09-06T13:30:30.441Z
ğŸ” Role check - User ID: 42, Role: manager, Required roles: manager
âœ… Access granted - User role 'manager' has required permissions
ğŸ” GET /api/manager/dashboard - 2025-09-06T13:30:30.443Z
ğŸ” Role check - User ID: 42, Role: manager, Required roles: manager
âœ… Access granted - User role 'manager' has required permissions
ğŸ” GET /api/auth/me - 2025-09-06T13:30:30.609Z
ğŸ” GET /api/auth/me - 2025-09-06T13:30:30.611Z
ğŸ” GET /api/manager/dashboard - 2025-09-06T13:30:30.615Z
ğŸ” Role check - User ID: 42, Role: manager, Required roles: manager
âœ… Access granted - User role 'manager' has required permissions
ğŸ” GET /api/manager/dashboard - 2025-09-06T13:30:30.618Z
ğŸ” Role check - User ID: 42, Role: manager, Required roles: manager
âœ… Access granted - User role 'manager' has required permissions
ğŸ” GET /api/auth/me - 2025-09-06T13:30:30.791Z
ğŸ” GET /api/auth/me - 2025-09-06T13:30:30.793Z
ğŸ” GET /api/manager/dashboard - 2025-09-06T13:30:30.796Z
ğŸ” Role check - User ID: 42, Role: manager, Required roles: manager
âœ… Access granted - User role 'manager' has required permissions
ğŸ” GET /api/manager/dashboard - 2025-09-06T13:30:30.798Z
ğŸ” Role check - User ID: 42, Role: manager, Required roles: manager
âœ… Access granted - User role 'manager' has required permissions
ğŸ” GET /api/auth/me - 2025-09-06T13:30:30.969Z
ğŸ” GET /api/auth/me - 2025-09-06T13:30:30.973Z
ğŸ” GET /api/manager/dashboard - 2025-09-06T13:30:30.979Z
ğŸ” Role check - User ID: 42, Role: manager, Required roles: manager
âœ… Access granted - User role 'manager' has required permissions
ğŸ” GET /api/manager/dashboard - 2025-09-06T13:30:30.981Z
ğŸ” Role check - User ID: 42, Role: manager, Required roles: manager
âœ… Access granted - User role 'manager' has required permissions
ğŸ” GET /api/auth/me - 2025-09-06T13:36:42.545Z
ğŸ” GET /api/auth/me - 2025-09-06T13:36:42.561Z
ğŸ” GET /api/manager/dashboard - 2025-09-06T13:36:42.568Z
ğŸ” Role check - User ID: 42, Role: manager, Required roles: manager
âœ… Access granted - User role 'manager' has required permissions
ğŸ” GET /api/manager/dashboard - 2025-09-06T13:36:42.592Z
ğŸ” Role check - User ID: 42, Role: manager, Required roles: manager
âœ… Access granted - User role 'manager' has required permissions
ğŸ” GET /api/auth/me - 2025-09-06T13:37:36.882Z
ğŸ” GET /api/auth/me - 2025-09-06T13:37:36.896Z
ğŸ” GET /api/manager/dashboard - 2025-09-06T13:37:36.902Z
ğŸ” Role check - User ID: 42, Role: manager, Required roles: manager
âœ… Access granted - User role 'manager' has required permissions
ğŸ” GET /api/manager/dashboard - 2025-09-06T13:37:36.914Z
ğŸ” Role check - User ID: 42, Role: manager, Required roles: manager
âœ… Access granted - User role 'manager' has required permissions
ğŸ” GET /api/auth/me - 2025-09-06T13:38:04.139Z
ğŸ” GET /api/auth/me - 2025-09-06T13:38:04.142Z
ğŸ” GET /api/manager/dashboard - 2025-09-06T13:38:04.148Z
ğŸ” Role check - User ID: 42, Role: manager, Required roles: manager
âœ… Access granted - User role 'manager' has required permissions
ğŸ” GET /api/manager/dashboard - 2025-09-06T13:38:04.153Z
ğŸ” Role check - User ID: 42, Role: manager, Required roles: manager
âœ… Access granted - User role 'manager' has required permissions
ğŸ” GET /api/leave/balances/48 - 2025-09-06T13:38:15.436Z
ğŸ” POST /api/auth/login - 2025-09-06T13:39:17.328Z
ğŸ” GET /api/auth/me - 2025-09-06T13:39:17.704Z
ğŸ” GET /api/hr/employees - 2025-09-06T13:39:17.707Z
ğŸ” HR route middleware hit: GET /employees
ğŸ” GET /api/hr/master - 2025-09-06T13:39:17.710Z
ğŸ” HR route middleware hit: GET /master
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/employees - 2025-09-06T13:39:17.856Z
ğŸ” HR route middleware hit: GET /employees
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/employees - 2025-09-06T13:39:17.858Z
ğŸ” HR route middleware hit: GET /employees
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/employees - 2025-09-06T13:39:17.859Z
ğŸ” HR route middleware hit: GET /employees
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
ğŸ” GET /api/hr/master - 2025-09-06T13:39:17.900Z
ğŸ” HR route middleware hit: GET /master
ğŸ” Role check - User ID: 1, Role: hr, Required roles: hr
âœ… Access granted - User role 'hr' has required permissions
