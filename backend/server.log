🚀 Server running on port 2026
📧 Email configured for: alphanxzen@gmail.com
🔍 POST /api/auth/login - 2025-09-06T12:56:50.278Z
🔍 POST /api/attendance/mark - 2025-09-06T12:56:58.631Z
🔍 Attendance mark request body: {
  "date": "2025-09-06T00:00:00.000Z",
  "status": "present",
  "checkintime": null,
  "checkouttime": null,
  "notes": "",
  "hours": null
}
🔍 Attendance mark request headers: {
  host: 'localhost:2026',
  'user-agent': 'curl/8.7.1',
  accept: '*/*',
  'content-type': 'application/json',
  authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjQ4LCJlbWFpbCI6InN0YWxpbmpAbnh6ZW4uY29tIiwicm9sZSI6ImVtcGxveWVlIiwiaWF0IjoxNzU3MTYzNDEwLCJleHAiOjE3NTcyNDk4MTB9.12SCRykFMzNWs7Qhz-swK6zMNQzG3xFm7ybnb1_LiGM',
  'content-length': '142'
}
🔍 User from token: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 GET /api/attendance/my-attendance - 2025-09-06T12:57:26.837Z
🔍 GET /api/attendance/settings - 2025-09-06T12:57:26.840Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 GET /api/attendance/settings - 2025-09-06T12:57:35.800Z
🔍 GET /api/attendance/my-attendance - 2025-09-06T12:57:35.802Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 POST /api/attendance/mark - 2025-09-06T12:57:47.412Z
🔍 Attendance mark request body: {
  "date": "2025-09-07T00:00:00.000Z",
  "status": "Work From Home"
}
🔍 Attendance mark request headers: {
  host: 'localhost:2026',
  'user-agent': 'curl/8.7.1',
  accept: '*/*',
  'content-type': 'application/json',
  authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjQ4LCJlbWFpbCI6InN0YWxpbmpAbnh6ZW4uY29tIiwicm9sZSI6ImVtcGxveWVlIiwiaWF0IjoxNzU3MTYzNDEwLCJleHAiOjE3NTcyNDk4MTB9.12SCRykFMzNWs7Qhz-swK6zMNQzG3xFm7ybnb1_LiGM',
  'content-length': '62'
}
🔍 User from token: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 POST /api/attendance/mark - 2025-09-06T12:57:55.516Z
🔍 Attendance mark request body: {
  "date": "2025-09-08T00:00:00.000Z",
  "status": "present",
  "checkintime": "09:00",
  "checkouttime": "17:00",
  "notes": "Regular work day",
  "hours": 8
}
🔍 Attendance mark request headers: {
  host: 'localhost:2026',
  'user-agent': 'curl/8.7.1',
  accept: '*/*',
  'content-type': 'application/json',
  authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjQ4LCJlbWFpbCI6InN0YWxpbmpAbnh6ZW4uY29tIiwicm9sZSI6ImVtcGxveWVlIiwiaWF0IjoxNzU3MTYzNDEwLCJleHAiOjE3NTcyNDk4MTB9.12SCRykFMzNWs7Qhz-swK6zMNQzG3xFm7ybnb1_LiGM',
  'content-length': '161'
}
🔍 User from token: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 GET /api/auth/me - 2025-09-06T12:58:13.882Z
🔍 GET /api/auth/me - 2025-09-06T12:58:13.887Z
🔍 GET /api/attendance/settings - 2025-09-06T12:58:14.004Z
🔍 GET /api/attendance/my-attendance - 2025-09-06T12:58:14.006Z
🔍 GET /api/attendance/settings - 2025-09-06T12:58:14.011Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 GET /api/attendance/my-attendance - 2025-09-06T12:58:14.037Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 POST /api/attendance/mark - 2025-09-06T12:58:18.137Z
🔍 Attendance mark request body: {
  "date": "2025-09-03T00:00:00.000Z",
  "status": "Work From Home"
}
🔍 Attendance mark request headers: {
  host: 'localhost:2026',
  connection: 'keep-alive',
  'content-length': '47',
  'sec-ch-ua-platform': '"macOS"',
  authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjQ4LCJlbWFpbCI6InN0YWxpbmpAbnh6ZW4uY29tIiwicm9sZSI6ImVtcGxveWVlIiwiaWF0IjoxNzU3MTYxOTE5LCJleHAiOjE3NTcyNDgzMTl9.ErykFWRGdVo3pkO-P9cKYNkR0g76EdR2Nzg6dNh7s2g',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36',
  'sec-ch-ua': '"Chromium";v="140", "Not=A?Brand";v="24", "Google Chrome";v="140"',
  'content-type': 'application/json',
  'sec-ch-ua-mobile': '?0',
  accept: '*/*',
  origin: 'http://localhost:3001',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3001/',
  'accept-encoding': 'gzip, deflate, br, zstd',
  'accept-language': 'en-US,en;q=0.9'
}
🔍 User from token: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 GET /api/attendance/my-attendance - 2025-09-06T12:58:18.147Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 POST /api/attendance/mark - 2025-09-06T12:58:23.053Z
🔍 Attendance mark request body: {
  "date": "2025-09-04T00:00:00.000Z",
  "status": "absent"
}
🔍 Attendance mark request headers: {
  host: 'localhost:2026',
  connection: 'keep-alive',
  'content-length': '39',
  'sec-ch-ua-platform': '"macOS"',
  authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjQ4LCJlbWFpbCI6InN0YWxpbmpAbnh6ZW4uY29tIiwicm9sZSI6ImVtcGxveWVlIiwiaWF0IjoxNzU3MTYxOTE5LCJleHAiOjE3NTcyNDgzMTl9.ErykFWRGdVo3pkO-P9cKYNkR0g76EdR2Nzg6dNh7s2g',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36',
  'sec-ch-ua': '"Chromium";v="140", "Not=A?Brand";v="24", "Google Chrome";v="140"',
  'content-type': 'application/json',
  'sec-ch-ua-mobile': '?0',
  accept: '*/*',
  origin: 'http://localhost:3001',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3001/',
  'accept-encoding': 'gzip, deflate, br, zstd',
  'accept-language': 'en-US,en;q=0.9'
}
🔍 User from token: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 GET /api/attendance/my-attendance - 2025-09-06T12:58:23.064Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 POST /api/auth/login - 2025-09-06T12:58:50.659Z
🔍 GET /api/auth/me - 2025-09-06T12:58:50.746Z
🔍 GET /api/hr/employees - 2025-09-06T12:58:50.765Z
🔍 HR route middleware hit: GET /employees
🔍 GET /api/hr/master - 2025-09-06T12:58:50.767Z
🔍 HR route middleware hit: GET /master
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/employees - 2025-09-06T12:58:50.803Z
🔍 HR route middleware hit: GET /employees
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/employees - 2025-09-06T12:58:50.806Z
🔍 HR route middleware hit: GET /employees
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/employees - 2025-09-06T12:58:50.811Z
🔍 HR route middleware hit: GET /employees
🔍 GET /api/hr/master - 2025-09-06T12:58:50.812Z
🔍 HR route middleware hit: GET /master
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 POST /api/auth/login - 2025-09-06T12:59:26.620Z
🔍 POST /api/auth/login - 2025-09-06T13:00:03.446Z
🔍 POST /api/auth/login - 2025-09-06T13:01:15.444Z
🔍 GET /api/auth/me - 2025-09-06T13:01:15.566Z
🔍 GET /api/employee/onboarding-status - 2025-09-06T13:01:15.568Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Checking onboarding status for user ID: 48
🔍 GET /api/employee/onboarding-form - 2025-09-06T13:01:15.569Z
🔍 GET /api/employee/is-onboarded - 2025-09-06T13:01:15.570Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 GET /api/employee/is-onboarded - 2025-09-06T13:01:15.596Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 GET /api/employee/is-onboarded - 2025-09-06T13:01:15.597Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
🔍 Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
🔍 GET /api/employee/onboarding-form - 2025-09-06T13:01:15.618Z
🔍 GET /api/employee/onboarding-status - 2025-09-06T13:01:15.619Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Checking onboarding status for user ID: 48
🔍 GET /api/employee/onboarding-form - 2025-09-06T13:01:15.621Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
🔍 Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
🔍 GET /api/employee/onboarding-status - 2025-09-06T13:01:15.622Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Checking onboarding status for user ID: 48
🔍 Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
🔍 Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
🔍 GET /api/attendance/my-attendance - 2025-09-06T13:01:15.657Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 GET /api/attendance/my-attendance - 2025-09-06T13:01:15.680Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 GET /api/attendance/settings - 2025-09-06T13:01:19.195Z
🔍 GET /api/attendance/my-attendance - 2025-09-06T13:01:19.196Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 GET /api/attendance/settings - 2025-09-06T13:01:19.201Z
🔍 GET /api/attendance/my-attendance - 2025-09-06T13:01:19.211Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 POST /api/attendance/mark - 2025-09-06T13:01:24.027Z
🔍 Attendance mark request body: {
  "date": "2025-09-05T00:00:00.000Z",
  "status": "present"
}
🔍 Attendance mark request headers: {
  host: 'localhost:2026',
  connection: 'keep-alive',
  'content-length': '40',
  'sec-ch-ua-platform': '"macOS"',
  authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjQ4LCJlbWFpbCI6InN0YWxpbmpAbnh6ZW4uY29tIiwicm9sZSI6ImVtcGxveWVlIiwiaWF0IjoxNzU3MTYzNjc1LCJleHAiOjE3NTcyNTAwNzV9.eX3x1X-8mEwTXXsQdhJqGBXL15VI79NlB4MK4SPhNl4',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Qoder/0.1.20 Chrome/132.0.6834.210 Electron/34.5.1 Safari/537.36',
  'sec-ch-ua': '"Not A(Brand";v="8", "Chromium";v="132"',
  'content-type': 'application/json',
  'sec-ch-ua-mobile': '?0',
  accept: '*/*',
  origin: 'http://localhost:3001',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3001/',
  'accept-encoding': 'gzip, deflate, br, zstd',
  'accept-language': 'en-US'
}
🔍 User from token: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 GET /api/attendance/my-attendance - 2025-09-06T13:01:24.050Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 GET /api/employee/onboarding-status - 2025-09-06T13:01:28.854Z
🔍 GET /api/employee/is-onboarded - 2025-09-06T13:01:28.855Z
🔍 GET /api/employee/onboarding-form - 2025-09-06T13:01:28.856Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Checking onboarding status for user ID: 48
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
🔍 Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
🔍 GET /api/employee/onboarding-status - 2025-09-06T13:01:28.859Z
🔍 GET /api/employee/is-onboarded - 2025-09-06T13:01:28.860Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Checking onboarding status for user ID: 48
🔍 GET /api/employee/onboarding-form - 2025-09-06T13:01:28.861Z
🔍 Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
🔍 Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 GET /api/attendance/my-attendance - 2025-09-06T13:01:28.866Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 GET /api/attendance/my-attendance - 2025-09-06T13:01:28.869Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 GET /api/leave/balance - 2025-09-06T13:01:29.913Z
🔍 GET /api/leave/types - 2025-09-06T13:01:29.914Z
🔍 GET /api/leave/my-leave-type-balances - 2025-09-06T13:01:29.914Z
🔍 GET /api/leave/system-info - 2025-09-06T13:01:29.917Z
🔍 GET /api/leave/my-requests - 2025-09-06T13:01:29.917Z
🔍 GET /api/leave/types - 2025-09-06T13:01:29.923Z
🔍 GET /api/leave/balance - 2025-09-06T13:01:29.924Z
🔍 Fetching leave requests for user ID: 48
🔍 GET /api/leave/system-info - 2025-09-06T13:01:29.926Z
🔍 GET /api/leave/my-leave-type-balances - 2025-09-06T13:01:29.927Z
🔍 Leave requests with manager data: []
🔍 GET /api/leave/my-requests - 2025-09-06T13:01:29.930Z
🔍 Fetching leave requests for user ID: 48
🔍 Leave requests with manager data: []
🔍 POST /api/leave/submit - 2025-09-06T13:01:46.050Z
🔍 Leave request received: {
  leaveType: 'Casual Leave',
  fromDate: '2025-09-09',
  toDate: null,
  halfDay: false,
  reason: 'hdhdhfj',
  totalDays: 1
}
🔍 Request body types: {
  leaveType: 'string',
  fromDate: 'string',
  toDate: 'object',
  reason: 'string',
  halfDay: 'boolean'
}
🔍 User: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Found managers for employee 48 : [
  {
    id: 42,
    manager_id: 'ae2d66',
    manager_name: 'Luffy D',
    email: 'strawhatluff124@gmail.com'
  }
]
🔍 Manager emails: [ { name: 'Luffy D', email: 'strawhatluff124@gmail.com' } ]
🔍 Manager count: 1
🔍 Manager 1: {
  name: 'Luffy D',
  email: 'strawhatluff124@gmail.com',
  id: 'ae2d66',
  user_id: 42
}
🔍 Retrieved managers: [
  {
    id: 42,
    manager_id: 'ae2d66',
    manager_name: 'Luffy D',
    email: 'strawhatluff124@gmail.com'
  }
]
🔍 Managers found: [
  {
    id: 42,
    manager_id: 'ae2d66',
    manager_name: 'Luffy D',
    email: 'strawhatluff124@gmail.com'
  }
]
📧 Sending email to PRIMARY manager only: strawhatluff124@gmail.com
📧 sendLeaveRequestToManager called with: {
  managerEmail: 'strawhatluff124@gmail.com',
  leaveRequest: { id: 17, employeeName: 'Stalin J' }
}
📧 Note: Email sent only to primary manager. Optional managers (manager2, manager3) will not receive emails.
🔍 GET /api/leave/balance - 2025-09-06T13:01:46.094Z
🔍 GET /api/leave/my-requests - 2025-09-06T13:01:46.094Z
🔍 Fetching leave requests for user ID: 48
🔍 Leave requests with manager data: [
  {
    id: 17,
    from_date: 2025-09-08T18:30:00.000Z,
    manager_name: 'Luffy D',
    current_manager_name: undefined
  }
]
✅ Leave request email sent to manager: strawhatluff124@gmail.com
📧 Email sent to primary manager: true
🔍 GET /api/leave/approve/17 - 2025-09-06T13:02:03.304Z
✅ Manager approval notification sent to HR: hr@nxzen.com
🔍 GET /api/auth/me - 2025-09-06T13:02:14.911Z
🔍 GET /api/auth/me - 2025-09-06T13:02:14.914Z
🔍 GET /api/employee/onboarding-status - 2025-09-06T13:02:14.920Z
🔍 GET /api/employee/is-onboarded - 2025-09-06T13:02:14.921Z
🔍 GET /api/employee/onboarding-form - 2025-09-06T13:02:14.921Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Checking onboarding status for user ID: 48
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 GET /api/employee/is-onboarded - 2025-09-06T13:02:14.926Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 GET /api/employee/is-onboarded - 2025-09-06T13:02:14.927Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
🔍 Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
🔍 GET /api/employee/onboarding-status - 2025-09-06T13:02:14.928Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Checking onboarding status for user ID: 48
🔍 GET /api/attendance/my-attendance - 2025-09-06T13:02:14.939Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
🔍 Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
🔍 GET /api/employee/onboarding-status - 2025-09-06T13:02:14.955Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Checking onboarding status for user ID: 48
🔍 Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
🔍 Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 GET /api/attendance/my-attendance - 2025-09-06T13:02:14.961Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 GET /api/employee/onboarding-form - 2025-09-06T13:02:14.963Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 GET /api/employee/onboarding-form - 2025-09-06T13:02:14.963Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 GET /api/attendance/my-attendance - 2025-09-06T13:02:14.974Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 GET /api/leave/balance - 2025-09-06T13:02:17.118Z
🔍 GET /api/leave/types - 2025-09-06T13:02:17.119Z
🔍 GET /api/leave/system-info - 2025-09-06T13:02:17.119Z
🔍 GET /api/leave/my-leave-type-balances - 2025-09-06T13:02:17.120Z
🔍 GET /api/leave/my-requests - 2025-09-06T13:02:17.120Z
🔍 GET /api/leave/balance - 2025-09-06T13:02:17.122Z
🔍 Fetching leave requests for user ID: 48
🔍 Leave requests with manager data: [
  {
    id: 17,
    from_date: 2025-09-08T18:30:00.000Z,
    manager_name: 'Luffy D',
    current_manager_name: undefined
  }
]
🔍 GET /api/leave/my-requests - 2025-09-06T13:02:17.131Z
🔍 Fetching leave requests for user ID: 48
🔍 Leave requests with manager data: [
  {
    id: 17,
    from_date: 2025-09-08T18:30:00.000Z,
    manager_name: 'Luffy D',
    current_manager_name: undefined
  }
]
🔍 GET /api/leave/my-leave-type-balances - 2025-09-06T13:02:17.183Z
🔍 GET /api/leave/types - 2025-09-06T13:02:17.184Z
🔍 GET /api/leave/system-info - 2025-09-06T13:02:17.184Z
🔍 GET /api/employee/onboarding-status - 2025-09-06T13:02:24.204Z
🔍 GET /api/employee/is-onboarded - 2025-09-06T13:02:24.208Z
🔍 GET /api/employee/onboarding-form - 2025-09-06T13:02:24.209Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Checking onboarding status for user ID: 48
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 GET /api/employee/is-onboarded - 2025-09-06T13:02:24.218Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 GET /api/employee/onboarding-form - 2025-09-06T13:02:24.227Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
🔍 Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
🔍 GET /api/employee/onboarding-status - 2025-09-06T13:02:24.233Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Checking onboarding status for user ID: 48
🔍 Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
🔍 Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
🔍 GET /api/attendance/my-attendance - 2025-09-06T13:02:24.242Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 GET /api/attendance/my-attendance - 2025-09-06T13:02:24.253Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 GET /api/expenses/categories - 2025-09-06T13:02:25.597Z
🔍 GET /api/expenses/categories - 2025-09-06T13:02:25.599Z
🔍 GET /api/expenses/my-requests - 2025-09-06T13:02:27.530Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 0
🔍 GET /api/expenses/my-requests - 2025-09-06T13:02:27.544Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 0
🔍 GET /api/expenses/categories - 2025-09-06T13:02:28.533Z
🔍 GET /api/expenses/categories - 2025-09-06T13:02:28.534Z
🔍 GET /api/expenses/categories - 2025-09-06T13:03:08.221Z
🔍 GET /api/expenses/categories - 2025-09-06T13:03:08.225Z
🔍 GET /api/expenses/categories - 2025-09-06T13:07:05.537Z
🔍 GET /api/employee/onboarding-status - 2025-09-06T13:07:05.539Z
🔍 GET /api/employee/is-onboarded - 2025-09-06T13:07:05.546Z
🔍 GET /api/employee/onboarding-form - 2025-09-06T13:07:05.548Z
🔍 GET /api/attendance/my-attendance - 2025-09-06T13:07:05.549Z
🔍 GET /api/expenses/categories - 2025-09-06T13:07:05.549Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Checking onboarding status for user ID: 48
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
🔍 Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
🔍 GET /api/attendance/my-attendance - 2025-09-06T13:07:05.587Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 GET /api/expenses/my-requests - 2025-09-06T13:07:09.607Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 0
🔍 GET /api/expenses/my-requests - 2025-09-06T13:07:09.632Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 0
🔍 GET /api/expenses/categories - 2025-09-06T13:07:13.844Z
🔍 GET /api/expenses/categories - 2025-09-06T13:07:13.845Z
🔍 GET /api/expenses/my-requests - 2025-09-06T13:07:14.830Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 0
🔍 GET /api/expenses/my-requests - 2025-09-06T13:07:14.837Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 0
🔍 GET /api/expenses/categories - 2025-09-06T13:07:16.413Z
🔍 GET /api/expenses/categories - 2025-09-06T13:07:16.414Z
🔍 GET /api/expenses/my-requests - 2025-09-06T13:07:17.124Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 0
🔍 GET /api/expenses/my-requests - 2025-09-06T13:07:17.128Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 0
🔍 GET /api/expenses/my-requests - 2025-09-06T13:07:51.766Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 0
🔍 GET /api/expenses/categories - 2025-09-06T13:08:40.019Z
🔍 GET /api/expenses/categories - 2025-09-06T13:08:40.021Z
🔍 GET /api/expenses/my-requests - 2025-09-06T13:08:40.917Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 0
🔍 GET /api/expenses/my-requests - 2025-09-06T13:08:40.946Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 0
🔍 GET /api/expenses/categories - 2025-09-06T13:08:46.616Z
🔍 GET /api/expenses/categories - 2025-09-06T13:08:46.618Z
🔍 GET /api/expenses/my-requests - 2025-09-06T13:08:47.986Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 0
🔍 GET /api/expenses/my-requests - 2025-09-06T13:08:47.990Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 0
🔍 GET /api/expenses/categories - 2025-09-06T13:08:49.715Z
🔍 GET /api/expenses/categories - 2025-09-06T13:08:49.716Z
🔍 GET /api/expenses/my-requests - 2025-09-06T13:08:50.428Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 0
🔍 GET /api/expenses/my-requests - 2025-09-06T13:08:50.434Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 0
🔍 GET /api/expenses/categories - 2025-09-06T13:08:51.979Z
🔍 GET /api/expenses/categories - 2025-09-06T13:08:51.980Z
🔍 GET /api/expenses/my-requests - 2025-09-06T13:08:52.928Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 0
🔍 GET /api/expenses/my-requests - 2025-09-06T13:08:52.933Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 0
🔍 GET /api/expenses/categories - 2025-09-06T13:08:58.770Z
🔍 GET /api/expenses/categories - 2025-09-06T13:08:58.771Z
🔍 GET /api/expenses/my-requests - 2025-09-06T13:08:59.726Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 0
🔍 GET /api/expenses/my-requests - 2025-09-06T13:08:59.732Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 0
🔍 GET /api/employee/onboarding-status - 2025-09-06T13:09:12.340Z
🔍 GET /api/employee/is-onboarded - 2025-09-06T13:09:12.341Z
🔍 GET /api/employee/onboarding-form - 2025-09-06T13:09:12.342Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Checking onboarding status for user ID: 48
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
🔍 Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
🔍 GET /api/employee/onboarding-status - 2025-09-06T13:09:12.361Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Checking onboarding status for user ID: 48
🔍 Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
🔍 Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
🔍 GET /api/employee/onboarding-form - 2025-09-06T13:09:12.364Z
🔍 GET /api/employee/is-onboarded - 2025-09-06T13:09:12.364Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 GET /api/attendance/my-attendance - 2025-09-06T13:09:12.370Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 GET /api/attendance/my-attendance - 2025-09-06T13:09:12.384Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 POST /api/auth/login - 2025-09-06T13:09:35.343Z
🔍 GET /api/auth/me - 2025-09-06T13:09:35.440Z
🔍 GET /api/hr/employees - 2025-09-06T13:09:35.444Z
🔍 HR route middleware hit: GET /employees
🔍 GET /api/hr/master - 2025-09-06T13:09:35.445Z
🔍 HR route middleware hit: GET /master
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/employees - 2025-09-06T13:09:35.449Z
🔍 HR route middleware hit: GET /employees
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/master - 2025-09-06T13:09:35.451Z
🔍 HR route middleware hit: GET /master
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/employees - 2025-09-06T13:09:35.451Z
🔍 HR route middleware hit: GET /employees
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/employees - 2025-09-06T13:09:35.453Z
🔍 HR route middleware hit: GET /employees
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 POST /api/auth/login - 2025-09-06T13:10:17.655Z
🔍 GET /api/auth/me - 2025-09-06T13:10:17.777Z
🔍 GET /api/employee/onboarding-status - 2025-09-06T13:10:17.777Z
🔍 GET /api/employee/is-onboarded - 2025-09-06T13:10:17.778Z
🔍 GET /api/employee/onboarding-form - 2025-09-06T13:10:17.778Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Checking onboarding status for user ID: 48
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 GET /api/employee/onboarding-form - 2025-09-06T13:10:17.799Z
🔍 GET /api/employee/is-onboarded - 2025-09-06T13:10:17.799Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
🔍 Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 GET /api/employee/onboarding-status - 2025-09-06T13:10:17.800Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Checking onboarding status for user ID: 48
🔍 GET /api/employee/onboarding-form - 2025-09-06T13:10:17.800Z
🔍 Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
🔍 Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 GET /api/employee/onboarding-status - 2025-09-06T13:10:17.801Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Checking onboarding status for user ID: 48
🔍 GET /api/employee/is-onboarded - 2025-09-06T13:10:17.802Z
🔍 Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
🔍 Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 GET /api/attendance/my-attendance - 2025-09-06T13:10:17.804Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 GET /api/attendance/my-attendance - 2025-09-06T13:10:17.811Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 GET /api/expenses/categories - 2025-09-06T13:10:21.085Z
🔍 GET /api/expenses/categories - 2025-09-06T13:10:21.086Z
🔍 POST /api/expenses/submit - 2025-09-06T13:11:36.059Z
🔍 Expense request received: [Object: null prototype] {
  expenseCategory: 'Travel',
  expenseType: 'Taxi',
  amount: '500',
  currency: 'INR',
  description: 'hvbdsbh',
  expenseDate: '2025-09-01',
  taxIncluded: 'false'
}
🔍 Files uploaded: [
  {
    fieldname: 'attachments',
    originalname: 'Screenshot 2025-09-06 at 4.05.00â\x80¯PM.png',
    encoding: '7bit',
    mimetype: 'image/png',
    destination: '/Users/stalin_j/Downloads/test2/onboard/backend/uploads/expenses',
    filename: 'attachments-1757164296154-681681736.png',
    path: '/Users/stalin_j/Downloads/test2/onboard/backend/uploads/expenses/attachments-1757164296154-681681736.png',
    size: 510771
  }
]
🔍 Found managers for employee 48 : [
  {
    id: 42,
    manager_id: 'ae2d66',
    manager_name: 'Luffy D',
    email: 'strawhatluff124@gmail.com'
  }
]
🔍 Retrieved managers: [
  {
    id: 42,
    manager_id: 'ae2d66',
    manager_name: 'Luffy D',
    email: 'strawhatluff124@gmail.com'
  }
]
🔍 Managers found: [
  {
    id: 42,
    manager_id: 'ae2d66',
    manager_name: 'Luffy D',
    email: 'strawhatluff124@gmail.com'
  }
]
📧 Sending email to PRIMARY manager only: strawhatluff124@gmail.com
📧 sendExpenseRequestToManager called with: {
  managerEmail: 'strawhatluff124@gmail.com',
  expenseRequest: { id: 15, employeeName: 'Stalin J' }
}
📧 Note: Email sent only to primary manager. Optional managers (manager2, manager3) will not receive emails.
🔍 GET /api/expenses/my-requests - 2025-09-06T13:11:40.265Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 1
🔍 GET /api/expenses/my-requests - 2025-09-06T13:11:40.273Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 1
✅ Expense request email sent to manager: strawhatluff124@gmail.com
📧 Email sent to primary manager: true
🔍 GET /api/expenses/approve/15 - 2025-09-06T13:11:52.964Z
✅ Manager approval notification sent to HR: hr@nxzen.com
🔍 GET /api/auth/me - 2025-09-06T13:12:19.195Z
🔍 GET /api/auth/me - 2025-09-06T13:12:19.216Z
🔍 GET /api/attendance/settings - 2025-09-06T13:12:19.362Z
🔍 GET /api/attendance/my-attendance - 2025-09-06T13:12:19.365Z
🔍 GET /api/attendance/settings - 2025-09-06T13:12:19.409Z
🔍 GET /api/auth/me - 2025-09-06T13:12:19.469Z
🔍 GET /api/auth/me - 2025-09-06T13:12:19.471Z
🔍 GET /api/employee/onboarding-status - 2025-09-06T13:12:19.482Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Checking onboarding status for user ID: 48
🔍 GET /api/employee/is-onboarded - 2025-09-06T13:12:19.486Z
🔍 GET /api/employee/onboarding-form - 2025-09-06T13:12:19.486Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
🔍 Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
🔍 GET /api/employee/onboarding-status - 2025-09-06T13:12:19.502Z
🔍 GET /api/employee/onboarding-form - 2025-09-06T13:12:19.502Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Checking onboarding status for user ID: 48
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 GET /api/employee/onboarding-form - 2025-09-06T13:12:19.504Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
🔍 Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
🔍 GET /api/attendance/my-attendance - 2025-09-06T13:12:19.537Z
🔍 GET /api/employee/onboarding-status - 2025-09-06T13:12:19.538Z
🔍 GET /api/employee/is-onboarded - 2025-09-06T13:12:19.538Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Checking onboarding status for user ID: 48
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
🔍 Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
🔍 GET /api/employee/is-onboarded - 2025-09-06T13:12:19.542Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 GET /api/attendance/my-attendance - 2025-09-06T13:12:19.546Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 GET /api/attendance/my-attendance - 2025-09-06T13:12:19.551Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 GET /api/attendance/my-attendance - 2025-09-06T13:12:19.553Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 GET /api/expenses/categories - 2025-09-06T13:12:21.089Z
🔍 GET /api/expenses/categories - 2025-09-06T13:12:21.091Z
🔍 GET /api/expenses/my-requests - 2025-09-06T13:12:22.227Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 1
🔍 GET /api/expenses/my-requests - 2025-09-06T13:12:22.238Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 1
🔍 GET /api/expenses/categories - 2025-09-06T13:12:42.421Z
🔍 GET /api/expenses/categories - 2025-09-06T13:12:42.422Z
🔍 GET /api/expenses/my-requests - 2025-09-06T13:12:43.360Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 1
🔍 GET /api/expenses/my-requests - 2025-09-06T13:12:43.365Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 1
🔍 GET /api/expenses/categories - 2025-09-06T13:12:47.199Z
🔍 GET /api/expenses/categories - 2025-09-06T13:12:47.201Z
🔍 GET /api/expenses/my-requests - 2025-09-06T13:12:48.291Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 1
🔍 GET /api/expenses/my-requests - 2025-09-06T13:12:48.295Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 1
🔍 GET /api/expenses/categories - 2025-09-06T13:12:50.153Z
🔍 GET /api/expenses/categories - 2025-09-06T13:12:50.154Z
🔍 GET /api/expenses/my-requests - 2025-09-06T13:12:52.172Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 1
🔍 GET /api/expenses/my-requests - 2025-09-06T13:12:52.180Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 1
🔍 GET /api/expenses/categories - 2025-09-06T13:12:58.299Z
🔍 GET /api/expenses/categories - 2025-09-06T13:12:58.301Z
🔍 GET /api/auth/me - 2025-09-06T13:13:01.339Z
🔍 GET /api/auth/me - 2025-09-06T13:13:01.342Z
🔍 GET /api/employee/onboarding-status - 2025-09-06T13:13:01.349Z
🔍 GET /api/employee/is-onboarded - 2025-09-06T13:13:01.349Z
🔍 GET /api/employee/onboarding-form - 2025-09-06T13:13:01.350Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Checking onboarding status for user ID: 48
🔍 Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
🔍 Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
🔍 GET /api/employee/onboarding-status - 2025-09-06T13:13:01.355Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Checking onboarding status for user ID: 48
🔍 Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
🔍 Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
🔍 GET /api/employee/onboarding-status - 2025-09-06T13:13:01.357Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Checking onboarding status for user ID: 48
🔍 Query result: [
  {
    id: 31,
    employee_id: 48,
    type: 'Full-Time',
    form_data: {
      doj: '2025-09-01',
      name: 'Stalin J',
      email: 'stalinnithin31@gmail.com',
      phone: '7642783647',
      address: 'jhgdjhasgd',
      education: 'hcvdshj',
      experience: '',
      submittedAt: '2025-09-06T12:29:54.924Z',
      emergencyContact: [Object],
      emergencyContact2: [Object]
    },
    files: [],
    status: 'approved',
    submitted_at: 2025-09-06T12:28:05.886Z,
    updated_at: 2025-09-06T12:31:11.137Z,
    reviewed_by: null,
    reviewed_at: null,
    review_notes: null,
    assigned_manager: null,
    manager2_name: null,
    manager3_name: null,
    draft_data: null,
    documents_uploaded: null,
    master_status: 'active'
  }
]
🔍 Form found: {
  id: 31,
  employee_id: 48,
  type: 'Full-Time',
  form_data: {
    doj: '2025-09-01',
    name: 'Stalin J',
    email: 'stalinnithin31@gmail.com',
    phone: '7642783647',
    address: 'jhgdjhasgd',
    education: 'hcvdshj',
    experience: '',
    submittedAt: '2025-09-06T12:29:54.924Z',
    emergencyContact: { name: 'hjcvhdsjc', phone: '7463278648', relationship: 'hjchd' },
    emergencyContact2: { name: 'hashjc', phone: '6748324786', relationship: 'hjcdhjc' }
  },
  files: [],
  status: 'approved',
  submitted_at: 2025-09-06T12:28:05.886Z,
  updated_at: 2025-09-06T12:31:11.137Z,
  reviewed_by: null,
  reviewed_at: null,
  review_notes: null,
  assigned_manager: null,
  manager2_name: null,
  manager3_name: null,
  draft_data: null,
  documents_uploaded: null,
  master_status: 'active'
}
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 GET /api/attendance/my-attendance - 2025-09-06T13:13:01.362Z
🔍 GET /api/employee/onboarding-form - 2025-09-06T13:13:01.362Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 GET /api/employee/is-onboarded - 2025-09-06T13:13:01.363Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 GET /api/employee/onboarding-form - 2025-09-06T13:13:01.364Z
🔍 GET /api/employee/is-onboarded - 2025-09-06T13:13:01.365Z
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 Role check - User ID: 48, Role: employee, Required roles: employee
✅ Access granted - User role 'employee' has required permissions
🔍 GET /api/attendance/my-attendance - 2025-09-06T13:13:01.372Z
🔍 Attendance route - req.user: { userId: 48, email: 'stalinj@nxzen.com', role: 'employee' }
🔍 Attendance route - userId: 48
🔍 GET /api/expenses/categories - 2025-09-06T13:13:04.697Z
🔍 GET /api/expenses/categories - 2025-09-06T13:13:04.698Z
🔍 GET /api/expenses/my-requests - 2025-09-06T13:13:05.853Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 1
🔍 GET /api/expenses/my-requests - 2025-09-06T13:13:05.859Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 1
🔍 GET /api/expenses/categories - 2025-09-06T13:13:23.099Z
🔍 GET /api/expenses/categories - 2025-09-06T13:13:23.100Z
🔍 GET /api/expenses/my-requests - 2025-09-06T13:13:26.232Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 1
🔍 GET /api/expenses/my-requests - 2025-09-06T13:13:26.242Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 1
🔍 GET /api/expenses/categories - 2025-09-06T13:13:26.940Z
🔍 GET /api/expenses/categories - 2025-09-06T13:13:26.941Z
🔍 GET /api/expenses/my-requests - 2025-09-06T13:13:27.556Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 1
🔍 GET /api/expenses/my-requests - 2025-09-06T13:13:27.559Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 1
🔍 GET /api/expenses/categories - 2025-09-06T13:13:28.241Z
🔍 GET /api/expenses/categories - 2025-09-06T13:13:28.244Z
🔍 GET /api/expenses/my-requests - 2025-09-06T13:13:28.776Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 1
🔍 GET /api/expenses/my-requests - 2025-09-06T13:13:28.780Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 1
🔍 GET /api/expenses/categories - 2025-09-06T13:13:29.414Z
🔍 GET /api/expenses/categories - 2025-09-06T13:13:29.416Z
🔍 GET /api/expenses/my-requests - 2025-09-06T13:13:30.629Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 1
🔍 GET /api/expenses/my-requests - 2025-09-06T13:13:30.633Z
🔍 Fetching expense requests for user ID: 48
🔍 Expense requests with manager data: 1
🔍 POST /api/auth/login - 2025-09-06T13:13:52.928Z
🔍 GET /api/auth/me - 2025-09-06T13:13:53.047Z
🔍 GET /api/hr/employees - 2025-09-06T13:13:53.053Z
🔍 HR route middleware hit: GET /employees
🔍 GET /api/hr/master - 2025-09-06T13:13:53.053Z
🔍 HR route middleware hit: GET /master
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/employees - 2025-09-06T13:13:53.063Z
🔍 HR route middleware hit: GET /employees
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/employees - 2025-09-06T13:13:53.065Z
🔍 HR route middleware hit: GET /employees
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/employees - 2025-09-06T13:13:53.066Z
🔍 HR route middleware hit: GET /employees
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/master - 2025-09-06T13:13:53.074Z
🔍 HR route middleware hit: GET /master
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/leave/hr/pending - 2025-09-06T13:13:57.428Z
🔍 GET /api/leave/all - 2025-09-06T13:13:57.431Z
🔍 GET /api/leave/types - 2025-09-06T13:13:57.431Z
🔍 GET /api/leave/hr/pending - 2025-09-06T13:13:57.448Z
🔍 GET /api/leave/all - 2025-09-06T13:13:57.449Z
🔍 GET /api/leave/types - 2025-09-06T13:13:57.450Z
🔍 PUT /api/leave/hr/17/approve - 2025-09-06T13:14:00.463Z
🔍 Updating leave balance: {
  employeeId: 48,
  year: 2025,
  totalDays: 1,
  leaveType: 'Casual Leave',
  originalValue: '1.0'
}
🔍 Paid Leave - Deducting from annual allocation
🔍 Updating leave type balance for: Casual Leave
⚠️ No leave type balance found for: casual - skipping type-specific update
✅ Leave balance updated successfully
✅ Created 1 attendance records
✅ Transaction committed successfully
🔍 GET /api/leave/hr/pending - 2025-09-06T13:14:00.498Z
🔍 GET /api/leave/all - 2025-09-06T13:14:00.499Z
✅ Leave approval notification sent to employee: stalinj@nxzen.com
🔍 GET /api/expenses/hr/pending - 2025-09-06T13:14:03.755Z
🔍 GET /api/expenses/hr/pending - 2025-09-06T13:14:03.759Z
🔍 PUT /api/expenses/hr/15/approve - 2025-09-06T13:14:06.129Z
🔍 GET /api/expenses/all - 2025-09-06T13:14:08.845Z
✅ Expense approval notification sent to employee: stalinj@nxzen.com
🔍 POST /api/auth/login - 2025-09-06T13:14:29.939Z
🔍 GET /api/manager/dashboard - 2025-09-06T13:14:30.036Z
🔍 GET /api/auth/me - 2025-09-06T13:14:30.037Z
🔍 Role check - User ID: 42, Role: manager, Required roles: manager
✅ Access granted - User role 'manager' has required permissions
🔍 GET /api/manager/dashboard - 2025-09-06T13:14:30.050Z
🔍 Role check - User ID: 42, Role: manager, Required roles: manager
✅ Access granted - User role 'manager' has required permissions
🔍 GET /api/auth/me - 2025-09-06T13:14:38.170Z
🔍 GET /api/auth/me - 2025-09-06T13:14:38.171Z
🔍 GET /api/manager/dashboard - 2025-09-06T13:14:38.179Z
🔍 Role check - User ID: 42, Role: manager, Required roles: manager
✅ Access granted - User role 'manager' has required permissions
🔍 GET /api/manager/dashboard - 2025-09-06T13:14:38.181Z
🔍 Role check - User ID: 42, Role: manager, Required roles: manager
✅ Access granted - User role 'manager' has required permissions
🔍 POST /api/auth/login - 2025-09-06T13:17:55.102Z
🔍 POST /api/auth/login - 2025-09-06T13:18:54.765Z
🔍 GET /api/manager/dashboard - 2025-09-06T13:19:02.046Z
🔍 Role check - User ID: 42, Role: manager, Required roles: manager
✅ Access granted - User role 'manager' has required permissions
🔍 POST /api/auth/login - 2025-09-06T13:24:07.577Z
🔍 GET /api/auth/me - 2025-09-06T13:24:07.701Z
🔍 GET /api/hr/employees - 2025-09-06T13:24:07.705Z
🔍 HR route middleware hit: GET /employees
🔍 GET /api/hr/master - 2025-09-06T13:24:07.706Z
🔍 HR route middleware hit: GET /master
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/master - 2025-09-06T13:24:07.734Z
🔍 HR route middleware hit: GET /master
🔍 GET /api/hr/employees - 2025-09-06T13:24:07.735Z
🔍 HR route middleware hit: GET /employees
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/employees - 2025-09-06T13:24:07.736Z
🔍 HR route middleware hit: GET /employees
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/employees - 2025-09-06T13:24:07.738Z
🔍 HR route middleware hit: GET /employees
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/employee-forms - 2025-09-06T13:24:15.586Z
🔍 HR route middleware hit: GET /employee-forms
🔍 GET /api/hr/master-managers - 2025-09-06T13:24:15.587Z
🔍 HR route middleware hit: GET /master-managers
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/master-managers - 2025-09-06T13:24:15.592Z
🔍 HR route middleware hit: GET /master-managers
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/employee-forms - 2025-09-06T13:24:15.595Z
🔍 HR route middleware hit: GET /employee-forms
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/document-collection - 2025-09-06T13:24:24.132Z
🔍 Document collection request: GET /api/hr/document-collection
🔍 Request body: {}
🔍 Request params: {}
🔍 HR route middleware hit: GET /document-collection
🔍 GET /api/hr/master - 2025-09-06T13:24:24.134Z
🔍 HR route middleware hit: GET /master
🔍 GET /api/documents/requirements - 2025-09-06T13:24:24.134Z
🔍 GET /api/hr/approved-employee-forms - 2025-09-06T13:24:24.137Z
🔍 HR route middleware hit: GET /approved-employee-forms
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/documents/requirements - 2025-09-06T13:24:24.141Z
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/master - 2025-09-06T13:24:24.143Z
🔍 HR route middleware hit: GET /master
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/approved-employee-forms - 2025-09-06T13:24:24.151Z
🔍 HR route middleware hit: GET /approved-employee-forms
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/document-collection - 2025-09-06T13:24:24.155Z
🔍 Document collection request: GET /api/hr/document-collection
🔍 Request body: {}
🔍 Request params: {}
🔍 HR route middleware hit: GET /document-collection
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/onboarded - 2025-09-06T13:24:33.698Z
🔍 HR route middleware hit: GET /onboarded
🔍 GET /api/hr/master-managers - 2025-09-06T13:24:33.700Z
🔍 HR route middleware hit: GET /master-managers
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/master-managers - 2025-09-06T13:24:33.703Z
🔍 HR route middleware hit: GET /master-managers
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/onboarded - 2025-09-06T13:24:33.707Z
🔍 HR route middleware hit: GET /onboarded
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr-config/managers - 2025-09-06T13:24:40.407Z
🔍 GET /api/hr-config/managers - 2025-09-06T13:24:40.413Z
🔍 GET /api/attendance/stats - 2025-09-06T13:24:45.487Z
🔍 GET /api/attendance/hr/details - 2025-09-06T13:24:45.488Z
🔍 GET /api/attendance/stats - 2025-09-06T13:24:45.499Z
🔍 GET /api/attendance/hr/details - 2025-09-06T13:24:45.501Z
🔍 GET /api/leave/types - 2025-09-06T13:24:51.231Z
🔍 GET /api/leave/hr/pending - 2025-09-06T13:24:51.231Z
🔍 GET /api/leave/all - 2025-09-06T13:24:51.232Z
🔍 GET /api/leave/hr/pending - 2025-09-06T13:24:51.236Z
🔍 GET /api/leave/all - 2025-09-06T13:24:51.242Z
🔍 GET /api/leave/types - 2025-09-06T13:24:51.252Z
🔍 GET /api/attendance/stats - 2025-09-06T13:25:06.788Z
🔍 GET /api/attendance/hr/details - 2025-09-06T13:25:06.789Z
🔍 GET /api/attendance/stats - 2025-09-06T13:25:06.792Z
🔍 GET /api/attendance/hr/details - 2025-09-06T13:25:06.794Z
🔍 GET /api/hr-config/managers - 2025-09-06T13:25:07.448Z
🔍 GET /api/hr-config/managers - 2025-09-06T13:25:07.450Z
🔍 GET /api/hr/onboarded - 2025-09-06T13:25:08.596Z
🔍 HR route middleware hit: GET /onboarded
🔍 GET /api/hr/master-managers - 2025-09-06T13:25:08.597Z
🔍 HR route middleware hit: GET /master-managers
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/master-managers - 2025-09-06T13:25:08.599Z
🔍 HR route middleware hit: GET /master-managers
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/onboarded - 2025-09-06T13:25:08.601Z
🔍 HR route middleware hit: GET /onboarded
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/master-managers - 2025-09-06T13:25:09.932Z
🔍 HR route middleware hit: GET /master-managers
🔍 GET /api/hr/employee-forms - 2025-09-06T13:25:09.934Z
🔍 HR route middleware hit: GET /employee-forms
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/master-managers - 2025-09-06T13:25:09.936Z
🔍 HR route middleware hit: GET /master-managers
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/employee-forms - 2025-09-06T13:25:09.938Z
🔍 HR route middleware hit: GET /employee-forms
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/document-collection - 2025-09-06T13:25:10.967Z
🔍 Document collection request: GET /api/hr/document-collection
🔍 Request body: {}
🔍 Request params: {}
🔍 HR route middleware hit: GET /document-collection
🔍 GET /api/hr/master - 2025-09-06T13:25:10.968Z
🔍 HR route middleware hit: GET /master
🔍 GET /api/documents/requirements - 2025-09-06T13:25:10.968Z
🔍 GET /api/hr/approved-employee-forms - 2025-09-06T13:25:10.968Z
🔍 HR route middleware hit: GET /approved-employee-forms
🔍 GET /api/documents/requirements - 2025-09-06T13:25:10.969Z
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/master - 2025-09-06T13:25:10.971Z
🔍 HR route middleware hit: GET /master
🔍 GET /api/hr/approved-employee-forms - 2025-09-06T13:25:10.972Z
🔍 HR route middleware hit: GET /approved-employee-forms
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/document-collection - 2025-09-06T13:25:10.973Z
🔍 Document collection request: GET /api/hr/document-collection
🔍 Request body: {}
🔍 Request params: {}
🔍 HR route middleware hit: GET /document-collection
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 POST /api/auth/login - 2025-09-06T13:25:44.757Z
🔍 GET /api/auth/me - 2025-09-06T13:25:44.897Z
🔍 GET /api/manager/dashboard - 2025-09-06T13:25:44.898Z
🔍 Role check - User ID: 42, Role: manager, Required roles: manager
✅ Access granted - User role 'manager' has required permissions
🔍 GET /api/manager/dashboard - 2025-09-06T13:25:44.908Z
🔍 Role check - User ID: 42, Role: manager, Required roles: manager
✅ Access granted - User role 'manager' has required permissions
🔍 POST /api/auth/login - 2025-09-06T13:26:32.498Z
🔍 GET /api/manager/dashboard - 2025-09-06T13:29:34.293Z
🔍 Role check - User ID: 46, Role: manager, Required roles: manager
✅ Access granted - User role 'manager' has required permissions
🔍 GET /api/manager/dashboard - 2025-09-06T13:29:44.176Z
🔍 Role check - User ID: 42, Role: manager, Required roles: manager
✅ Access granted - User role 'manager' has required permissions
🔍 GET /api/auth/me - 2025-09-06T13:30:29.080Z
🔍 GET /api/auth/me - 2025-09-06T13:30:29.095Z
🔍 GET /api/manager/dashboard - 2025-09-06T13:30:29.101Z
🔍 Role check - User ID: 42, Role: manager, Required roles: manager
✅ Access granted - User role 'manager' has required permissions
🔍 GET /api/manager/dashboard - 2025-09-06T13:30:29.111Z
🔍 Role check - User ID: 42, Role: manager, Required roles: manager
✅ Access granted - User role 'manager' has required permissions
🔍 GET /api/auth/me - 2025-09-06T13:30:30.010Z
🔍 GET /api/auth/me - 2025-09-06T13:30:30.012Z
🔍 GET /api/manager/dashboard - 2025-09-06T13:30:30.016Z
🔍 Role check - User ID: 42, Role: manager, Required roles: manager
✅ Access granted - User role 'manager' has required permissions
🔍 GET /api/manager/dashboard - 2025-09-06T13:30:30.019Z
🔍 Role check - User ID: 42, Role: manager, Required roles: manager
✅ Access granted - User role 'manager' has required permissions
🔍 GET /api/auth/me - 2025-09-06T13:30:30.434Z
🔍 GET /api/auth/me - 2025-09-06T13:30:30.435Z
🔍 GET /api/manager/dashboard - 2025-09-06T13:30:30.441Z
🔍 Role check - User ID: 42, Role: manager, Required roles: manager
✅ Access granted - User role 'manager' has required permissions
🔍 GET /api/manager/dashboard - 2025-09-06T13:30:30.443Z
🔍 Role check - User ID: 42, Role: manager, Required roles: manager
✅ Access granted - User role 'manager' has required permissions
🔍 GET /api/auth/me - 2025-09-06T13:30:30.609Z
🔍 GET /api/auth/me - 2025-09-06T13:30:30.611Z
🔍 GET /api/manager/dashboard - 2025-09-06T13:30:30.615Z
🔍 Role check - User ID: 42, Role: manager, Required roles: manager
✅ Access granted - User role 'manager' has required permissions
🔍 GET /api/manager/dashboard - 2025-09-06T13:30:30.618Z
🔍 Role check - User ID: 42, Role: manager, Required roles: manager
✅ Access granted - User role 'manager' has required permissions
🔍 GET /api/auth/me - 2025-09-06T13:30:30.791Z
🔍 GET /api/auth/me - 2025-09-06T13:30:30.793Z
🔍 GET /api/manager/dashboard - 2025-09-06T13:30:30.796Z
🔍 Role check - User ID: 42, Role: manager, Required roles: manager
✅ Access granted - User role 'manager' has required permissions
🔍 GET /api/manager/dashboard - 2025-09-06T13:30:30.798Z
🔍 Role check - User ID: 42, Role: manager, Required roles: manager
✅ Access granted - User role 'manager' has required permissions
🔍 GET /api/auth/me - 2025-09-06T13:30:30.969Z
🔍 GET /api/auth/me - 2025-09-06T13:30:30.973Z
🔍 GET /api/manager/dashboard - 2025-09-06T13:30:30.979Z
🔍 Role check - User ID: 42, Role: manager, Required roles: manager
✅ Access granted - User role 'manager' has required permissions
🔍 GET /api/manager/dashboard - 2025-09-06T13:30:30.981Z
🔍 Role check - User ID: 42, Role: manager, Required roles: manager
✅ Access granted - User role 'manager' has required permissions
🔍 GET /api/auth/me - 2025-09-06T13:36:42.545Z
🔍 GET /api/auth/me - 2025-09-06T13:36:42.561Z
🔍 GET /api/manager/dashboard - 2025-09-06T13:36:42.568Z
🔍 Role check - User ID: 42, Role: manager, Required roles: manager
✅ Access granted - User role 'manager' has required permissions
🔍 GET /api/manager/dashboard - 2025-09-06T13:36:42.592Z
🔍 Role check - User ID: 42, Role: manager, Required roles: manager
✅ Access granted - User role 'manager' has required permissions
🔍 GET /api/auth/me - 2025-09-06T13:37:36.882Z
🔍 GET /api/auth/me - 2025-09-06T13:37:36.896Z
🔍 GET /api/manager/dashboard - 2025-09-06T13:37:36.902Z
🔍 Role check - User ID: 42, Role: manager, Required roles: manager
✅ Access granted - User role 'manager' has required permissions
🔍 GET /api/manager/dashboard - 2025-09-06T13:37:36.914Z
🔍 Role check - User ID: 42, Role: manager, Required roles: manager
✅ Access granted - User role 'manager' has required permissions
🔍 GET /api/auth/me - 2025-09-06T13:38:04.139Z
🔍 GET /api/auth/me - 2025-09-06T13:38:04.142Z
🔍 GET /api/manager/dashboard - 2025-09-06T13:38:04.148Z
🔍 Role check - User ID: 42, Role: manager, Required roles: manager
✅ Access granted - User role 'manager' has required permissions
🔍 GET /api/manager/dashboard - 2025-09-06T13:38:04.153Z
🔍 Role check - User ID: 42, Role: manager, Required roles: manager
✅ Access granted - User role 'manager' has required permissions
🔍 GET /api/leave/balances/48 - 2025-09-06T13:38:15.436Z
🔍 POST /api/auth/login - 2025-09-06T13:39:17.328Z
🔍 GET /api/auth/me - 2025-09-06T13:39:17.704Z
🔍 GET /api/hr/employees - 2025-09-06T13:39:17.707Z
🔍 HR route middleware hit: GET /employees
🔍 GET /api/hr/master - 2025-09-06T13:39:17.710Z
🔍 HR route middleware hit: GET /master
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/employees - 2025-09-06T13:39:17.856Z
🔍 HR route middleware hit: GET /employees
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/employees - 2025-09-06T13:39:17.858Z
🔍 HR route middleware hit: GET /employees
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/employees - 2025-09-06T13:39:17.859Z
🔍 HR route middleware hit: GET /employees
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
🔍 GET /api/hr/master - 2025-09-06T13:39:17.900Z
🔍 HR route middleware hit: GET /master
🔍 Role check - User ID: 1, Role: hr, Required roles: hr
✅ Access granted - User role 'hr' has required permissions
